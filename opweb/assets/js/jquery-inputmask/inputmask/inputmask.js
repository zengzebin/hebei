!function(e){"function"==typeof define&&define.amd?define(["inputmask.dependencyLib"],e):"object"==typeof exports?module.exports=e(require("./inputmask.dependencyLib.jquery")):e(window.dependencyLib||jQuery)}(function(e){function t(i,n){return this instanceof t?(e.isPlainObject(i)?n=i:(n=n||{},n.alias=i),this.el=void 0,this.opts=e.extend(!0,{},this.defaults,n),this.noMasksCache=n&&void 0!==n.definitions,this.userOptions=n||{},this.events={},void a(this.opts.alias,n,this.opts)):new t(i,n)}function i(e){var t=document.createElement("input"),i="on"+e,n=i in t;return n||(t.setAttribute(i,"return;"),n="function"==typeof t[i]),t=null,n}function n(t,i){var n=t.getAttribute("type"),a="INPUT"===t.tagName&&-1!==e.inArray(n,i.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!a&&"INPUT"===t.tagName){var o=document.createElement("input");o.setAttribute("type",n),a="text"===o.type,o=null}return a}function a(t,i,n){var o=n.aliases[t];return o?(o.alias&&a(o.alias,void 0,n),e.extend(!0,n,o),e.extend(!0,n,i),!0):(null===n.mask&&(n.mask=t),!1)}function o(t,i,n){function o(e,i){null!==(i=void 0!==i?i:t.getAttribute("data-inputmask-"+e))&&("string"==typeof i&&(0===e.indexOf("on")?i=window[i]:"false"===i?i=!1:"true"===i&&(i=!0)),n[e]=i)}var r,s,l,u,c=t.getAttribute("data-inputmask");if(c&&""!==c&&(c=c.replace(new RegExp("'","g"),'"'),s=JSON.parse("{"+c+"}")),s){l=void 0;for(u in s)if("alias"===u.toLowerCase()){l=s[u];break}}o("alias",l),n.alias&&a(n.alias,n,i);for(r in i){if(s){l=void 0;for(u in s)if(u.toLowerCase()===r.toLowerCase()){l=s[u];break}}o(r,l)}return e.extend(!0,i,n),i}function r(i,n){function a(t){function n(e,t,i,n){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}function a(t,n,a){var o=i.definitions[n];a=void 0!==a?a:t.matches.length;var r=t.matches[a-1];if(o&&!k){o.placeholder=e.isFunction(o.placeholder)?o.placeholder(i):o.placeholder;for(var s=o.prevalidator,l=s?s.length:0,u=1;u<o.cardinality;u++){var c=l>=u?s[u-1]:[],f=c.validator,d=c.cardinality;t.matches.splice(a++,0,{fn:f?"string"==typeof f?new RegExp(f):new function(){this.test=f}:new RegExp("."),cardinality:d||1,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==(o.definitionSymbol||n),casing:o.casing,def:o.definitionSymbol||n,placeholder:o.placeholder,mask:n}),r=t.matches[a-1]}t.matches.splice(a++,0,{fn:o.validator?"string"==typeof o.validator?new RegExp(o.validator):new function(){this.test=o.validator}:new RegExp("."),cardinality:o.cardinality,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==(o.definitionSymbol||n),casing:o.casing,def:o.definitionSymbol||n,placeholder:o.placeholder,mask:n})}else t.matches.splice(a++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==n,casing:null,def:i.staticDefinitionSymbol||n,placeholder:void 0!==i.staticDefinitionSymbol?n:void 0,mask:n}),k=!1}function o(e,t){e.isGroup&&(e.isGroup=!1,a(e,i.groupmarker.start,0),!0!==t&&a(e,i.groupmarker.end))}function r(e,t,i,n){t.matches.length>0&&(void 0===n||n)&&(i=t.matches[t.matches.length-1],o(i)),a(t,e)}function s(){if(y.length>0){if(d=y[y.length-1],r(c,d,v,!d.isAlternator),d.isAlternator){p=y.pop();for(var e=0;e<p.matches.length;e++)p.matches[e].isGroup=!1;y.length>0?(d=y[y.length-1],d.matches.push(p)):g.matches.push(p)}}else r(c,g,v)}function l(e){e.matches=e.matches.reverse();for(var t in e.matches){var n=parseInt(t);if(e.matches[t].isQuantifier&&e.matches[n+1]&&e.matches[n+1].isGroup){var a=e.matches[t];e.matches.splice(t,1),e.matches.splice(n+1,0,a)}void 0!==e.matches[t].matches?e.matches[t]=l(e.matches[t]):e.matches[t]=function(e){return e===i.optionalmarker.start?e=i.optionalmarker.end:e===i.optionalmarker.end?e=i.optionalmarker.start:e===i.groupmarker.start?e=i.groupmarker.end:e===i.groupmarker.end&&(e=i.groupmarker.start),e}(e.matches[t])}return e}for(var u,c,f,d,p,v,m,h=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,k=!1,g=new n,y=[],b=[];u=h.exec(t);)if(c=u[0],k)s();else switch(c.charAt(0)){case i.escapeChar:k=!0;break;case i.optionalmarker.end:case i.groupmarker.end:if(void 0!==(f=y.pop()))if(y.length>0){if(d=y[y.length-1],d.matches.push(f),d.isAlternator){p=y.pop();for(var P=0;P<p.matches.length;P++)p.matches[P].isGroup=!1;y.length>0?(d=y[y.length-1],d.matches.push(p)):g.matches.push(p)}}else g.matches.push(f);else s();break;case i.optionalmarker.start:y.push(new n(!1,!0));break;case i.groupmarker.start:y.push(new n(!0));break;case i.quantifiermarker.start:var _=new n(!1,!1,!0);c=c.replace(/[{}]/g,"");var C=c.split(","),w=isNaN(C[0])?C[0]:parseInt(C[0]),A=1===C.length?w:isNaN(C[1])?C[1]:parseInt(C[1]);if(("*"===A||"+"===A)&&(w="*"===A?0:1),_.quantifier={min:w,max:A},y.length>0){var S=y[y.length-1].matches;u=S.pop(),u.isGroup||(m=new n(!0),m.matches.push(u),u=m),S.push(u),S.push(_)}else u=g.matches.pop(),u.isGroup||(m=new n(!0),m.matches.push(u),u=m),g.matches.push(u),g.matches.push(_);break;case i.alternatormarker:y.length>0?(d=y[y.length-1],v=d.matches.pop()):v=g.matches.pop(),v.isAlternator?y.push(v):(p=new n(!1,!1,!1,!0),p.matches.push(v),y.push(p));break;default:s()}for(;y.length>0;)f=y.pop(),o(f,!0),g.matches.push(f);return g.matches.length>0&&(v=g.matches[g.matches.length-1],o(v),b.push(g)),i.numericInput&&l(b[0]),b}function o(o,r){if(null!==o&&""!==o){if(1===o.length&&!1===i.greedy&&0!==i.repeat&&(i.placeholder=""),i.repeat>0||"*"===i.repeat||"+"===i.repeat){var s="*"===i.repeat?0:"+"===i.repeat?1:i.repeat;o=i.groupmarker.start+o+i.groupmarker.end+i.quantifiermarker.start+s+","+i.repeat+i.quantifiermarker.end}var l;return void 0===t.prototype.masksCache[o]||!0===n?(l={mask:o,maskToken:a(o),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:r},!0!==n&&(t.prototype.masksCache[i.numericInput?o.split("").reverse().join(""):o]=l,l=e.extend(!0,{},t.prototype.masksCache[i.numericInput?o.split("").reverse().join(""):o]))):l=e.extend(!0,{},t.prototype.masksCache[i.numericInput?o.split("").reverse().join(""):o]),l}}function r(e){return e=e.toString()}var s;if(e.isFunction(i.mask)&&(i.mask=i.mask(i)),e.isArray(i.mask)){if(i.mask.length>1){i.keepStatic=null===i.keepStatic||i.keepStatic;var l="(";return e.each(i.numericInput?i.mask.reverse():i.mask,function(t,i){l.length>1&&(l+=")|("),l+=r(void 0===i.mask||e.isFunction(i.mask)?i:i.mask)}),l+=")",o(l,i.mask)}i.mask=i.mask.pop()}return i.mask&&(s=void 0===i.mask.mask||e.isFunction(i.mask.mask)?o(r(i.mask),i.mask):o(r(i.mask.mask),i.mask)),s}function s(a,o,r){function l(e,t,i){t=t||0;var n,a,o,s=[],l=0,u=v();do{if(!0===e&&d().validPositions[l]){var c=d().validPositions[l];a=c.match,n=c.locator.slice(),s.push(!0===i?c.input:G(l,a))}else o=k(l,n,l-1),a=o.match,n=o.locator.slice(),(!1===r.jitMasking||u>l||isFinite(r.jitMasking)&&r.jitMasking>l)&&s.push(G(l,a));l++}while((void 0===re||re>l-1)&&null!==a.fn||null===a.fn&&""!==a.def||t>=l);return""===s[s.length-1]&&s.pop(),s}function d(){return o}function p(e){var t=d();t.buffer=void 0,!0!==e&&(t.tests={},t._buffer=void 0,t.validPositions={},t.p=0)}function v(e,t,i){var n=-1,a=-1,o=i||d().validPositions;void 0===e&&(e=-1);for(var r in o){var s=parseInt(r);o[s]&&(t||null!==o[s].match.fn)&&(e>=s&&(n=s),s>=e&&(a=s))}return-1!==n&&e-n>1||e>a?n:a}function m(t,i,n,a){if(a||r.insertMode&&void 0!==d().validPositions[t]&&void 0===n){var o,s=e.extend(!0,{},d().validPositions),l=v();for(o=t;l>=o;o++)delete d().validPositions[o];d().validPositions[t]=i;var u,c=!0,f=d().validPositions,m=!1;for(o=u=t;l>=o;o++){var h=s[o];if(void 0!==h)for(var k=u,g=-1;k<M()&&(null==h.match.fn&&f[o]&&(!0===f[o].match.optionalQuantifier||!0===f[o].match.optionality)||null!=h.match.fn);){if(null===h.match.fn||!r.keepStatic&&f[o]&&(void 0!==f[o+1]&&P(o+1,f[o].locator.slice(),o).length>1||void 0!==f[o].alternation)?k++:k=O(u),!1===m&&s[k]&&s[k].match.def===h.match.def){d().validPositions[k]=e.extend(!0,{},s[k]),d().validPositions[k].input=h.input,u=k,c=!0;break}if(y(k,h.match.def)){var b=E(k,h.input,!0,!0);if(c=!1!==b,u=b.caret||b.insert?v():k,m=!0,c)break}else{if(c=null==h.match.fn,g===k)break;g=k}}if(!c)break}if(!c)return d().validPositions=e.extend(!0,{},s),p(!0),!1}else d().validPositions[t]=i;return p(!0),!0}function h(t,i,n,a){var o,s=t,l=e.extend(!0,{},d().validPositions),u=!1;for(d().p=t,o=i-1;o>=s;o--)void 0!==d().validPositions[o]&&(!0===n||!function(e){var t=d().validPositions[e];if(void 0!==t&&null===t.match.fn){var i=d().validPositions[e-1],n=d().validPositions[e+1];return void 0!==i&&void 0!==n}return!1}(o)&&!1!==r.canClearPosition(d(),o,v(),a,r))&&delete d().validPositions[o];for(p(!0),o=s+1;o<=v();){for(;void 0!==d().validPositions[s];)s++;var c=d().validPositions[s];if(s>o&&(o=s+1),void 0===d().validPositions[o]&&x(o)||void 0!==c)o++;else{var f=k(o);!1===u&&l[s]&&l[s].match.def===f.match.def?(d().validPositions[s]=e.extend(!0,{},l[s]),d().validPositions[s].input=f.input,delete d().validPositions[o],o++):y(s,f.match.def)?!1!==E(s,f.input||G(o),!0)&&(delete d().validPositions[o],o++,u=!0):x(o)||(o++,s--),s++}}p(!0)}function k(e,t,i){var n=d().validPositions[e];if(void 0===n)for(var a=P(e,t,i),o=v(),s=d().validPositions[o]||P(0)[0],l=void 0!==s.alternation?s.locator[s.alternation].toString().split(","):[],u=0;u<a.length&&(n=a[u],!(n.match&&(r.greedy&&!0!==n.match.optionalQuantifier||(!1===n.match.optionality||!1===n.match.newBlockMarker)&&!0!==n.match.optionalQuantifier)&&(void 0===s.alternation||s.alternation!==n.alternation||void 0!==n.locator[s.alternation]&&S(n.locator[s.alternation].toString().split(","),l))));u++);return n}function g(e){return d().validPositions[e]?d().validPositions[e].match:P(e)[0].match}function y(e,t){for(var i=!1,n=P(e),a=0;a<n.length;a++)if(n[a].match&&n[a].match.def===t){i=!0;break}return i}function b(t,i){var n,a;return(d().tests[t]||d().validPositions[t])&&e.each(d().tests[t]||[d().validPositions[t]],function(e,t){var o=t.alternation?t.locator[t.alternation].toString().indexOf(i):-1;(void 0===a||a>o)&&-1!==o&&(n=t,a=o)}),n}function P(t,i,n){function a(i,n,r,l){function p(r,l,v){function m(t,i){var n=0===e.inArray(t,i.matches);return n||e.each(i.matches,function(e,a){return(!0!==a.isQuantifier||!(n=m(t,i.matches[e-1])))&&void 0}),n}if(s>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+d().mask;if(s===t&&void 0===r.matches)return u.push({match:r,locator:l.reverse(),cd:f}),!0;if(void 0!==r.matches){if(r.isGroup&&v!==r){if(r=p(i.matches[e.inArray(r,i.matches)+1],l))return!0}else if(r.isOptional){var h=r;if(r=a(r,n,l,v)){if(o=u[u.length-1].match,!m(o,h))return!0;c=!0,s=t}}else if(r.isAlternator){var k,g=r,y=[],P=u.slice(),_=l.length,C=n.length>0?n.shift():-1;if(-1===C||"string"==typeof C){var w,A=s,S=n.slice(),E=[];if("string"==typeof C)E=C.split(",");else for(w=0;w<g.matches.length;w++)E.push(w);for(var x=0;x<E.length;x++){if(w=parseInt(E[x]),u=[],n=function(e,t){var i=b(e,t);return i?i.locator.slice(i.alternation+1):[]}(s,w),!0!==(r=p(g.matches[w]||i.matches[w],[w].concat(l),v)||r)&&void 0!==r&&E[E.length-1]<g.matches.length){var M=e.inArray(r,i.matches)+1;i.matches.length>M&&(r=p(i.matches[M],[M].concat(l.slice(1,l.length)),v))&&(E.push(M.toString()),e.each(u,function(e,t){t.alternation=l.length-1}))}k=u.slice(),s=A,u=[];for(var O=0;O<S.length;O++)n[O]=S[O];for(var j=0;j<k.length;j++){var T=k[j];T.alternation=T.alternation||_;for(var D=0;D<y.length;D++){var G=y[D];if(T.match.def===G.match.def&&("string"!=typeof C||-1!==e.inArray(T.locator[T.alternation].toString(),E))){T.match.mask===G.match.mask&&(k.splice(j,1),j--),-1===G.locator[T.alternation].toString().indexOf(T.locator[T.alternation])&&(G.locator[T.alternation]=G.locator[T.alternation]+","+T.locator[T.alternation],G.alternation=T.alternation);break}}}y=y.concat(k)}"string"==typeof C&&(y=e.map(y,function(t,i){if(isFinite(i)){var n=t.alternation,a=t.locator[n].toString().split(",");t.locator[n]=void 0,t.alternation=void 0;for(var o=0;o<a.length;o++)-1!==e.inArray(a[o],E)&&(void 0!==t.locator[n]?(t.locator[n]+=",",t.locator[n]+=a[o]):t.locator[n]=parseInt(a[o]),t.alternation=n);if(void 0!==t.locator[n])return t}})),u=P.concat(y),s=t,c=u.length>0}else r=p(g.matches[C]||i.matches[C],[C].concat(l),v);if(r)return!0}else if(r.isQuantifier&&v!==i.matches[e.inArray(r,i.matches)-1])for(var B=r,I=n.length>0?n.shift():0;I<(isNaN(B.quantifier.max)?I+1:B.quantifier.max)&&t>=s;I++){var F=i.matches[e.inArray(B,i.matches)-1];if(r=p(F,[I].concat(l),F)){if(o=u[u.length-1].match,o.optionalQuantifier=I>B.quantifier.min-1,m(o,F)){if(I>B.quantifier.min-1){c=!0,s=t;break}return!0}return!0}}else if(r=a(r,n,l,v))return!0}else s++}for(var v=n.length>0?n.shift():0;v<i.matches.length;v++)if(!0!==i.matches[v].isQuantifier){var m=p(i.matches[v],[v].concat(r),l);if(m&&s===t)return m;if(s>t)break}}var o,r=d().maskToken,s=i?n:0,l=i||[0],u=[],c=!1,f=i?i.join(""):"";if(t>-1){if(void 0===i){for(var p,v=t-1;void 0===(p=d().validPositions[v]||d().tests[v])&&v>-1;)v--;void 0!==p&&v>-1&&(l=function(t){var i=[];return e.isArray(t)||(t=[t]),void 0===t[0].alternation?i=t[0].locator.slice():e.each(t,function(e,t){if(""!==t.def)if(0===i.length)i=t.locator.slice();else for(var n=0;n<i.length;n++)t.locator[n]&&-1===i[n].toString().indexOf(t.locator[n])&&(i[n]+=","+t.locator[n])}),i}(p),f=l.join(""),s=v)}if(d().tests[t]&&d().tests[t][0].cd===f)return d().tests[t];for(var m=l.shift();m<r.length;m++){if(a(r[m],l,[m])&&s===t||s>t)break}}return(0===u.length||c)&&u.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),d().tests[t]=e.extend(!0,[],u),d().tests[t]}function _(){return void 0===d()._buffer&&(d()._buffer=l(!1,1)),d()._buffer}function C(e){if(void 0===d().buffer||!0===e){if(!0===e)for(var t in d().tests)void 0===d().validPositions[t]&&delete d().tests[t];d().buffer=l(!0,v(),!0)}return d().buffer}function w(e,t,i){var n;if(i=i,!0===e)p(),e=0,t=i.length;else for(n=e;t>n;n++)delete d().validPositions[n],delete d().tests[n];for(n=e;t>n;n++)p(!0),i[n]!==r.skipOptionalPartCharacter&&E(n,i[n],!0,!0)}function A(e,t){switch(t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e}function S(t,i){for(var n=r.greedy?i:i.slice(0,1),a=!1,o=0;o<t.length;o++)if(-1!==e.inArray(t[o],n)){a=!0;break}return a}function E(i,n,a,o){function s(e){return le?e.begin-e.end>1||e.begin-e.end==1&&r.insertMode:e.end-e.begin>1||e.end-e.begin==1&&r.insertMode}function l(t,n,a,o){var l=!1;return e.each(P(t),function(u,c){for(var f=c.match,k=n?1:0,g="",y=f.cardinality;y>k;y--)g+=T(t-(y-1));if(n&&(g+=n),C(!0),!1!==(l=null!=f.fn?f.fn.test(g,d(),t,a,r,s(i)):(n===f.def||n===r.skipOptionalPartCharacter)&&""!==f.def&&{c:f.placeholder||f.def,pos:t})){var b=void 0!==l.c?l.c:n;b=b===r.skipOptionalPartCharacter&&null===f.fn?f.placeholder||f.def:b;var P=t,_=C();if(void 0!==l.remove&&(e.isArray(l.remove)||(l.remove=[l.remove]),e.each(l.remove.sort(function(e,t){return t-e}),function(e,t){h(t,t+1,!0)})),void 0!==l.insert&&(e.isArray(l.insert)||(l.insert=[l.insert]),e.each(l.insert.sort(function(e,t){return e-t}),function(e,t){E(t.pos,t.c,!1,o)})),l.refreshFromBuffer){var S=l.refreshFromBuffer;if(a=!0,w(!0===S?S:S.start,S.end,_),void 0===l.pos&&void 0===l.c)return l.pos=v(),!1;if((P=void 0!==l.pos?l.pos:t)!==t)return l=e.extend(l,E(P,b,!0,o)),!1}else if(!0!==l&&void 0!==l.pos&&l.pos!==t&&(P=l.pos,w(t,P,C().slice()),P!==t))return l=e.extend(l,E(P,b,!0)),!1;return(!0===l||void 0!==l.pos||void 0!==l.c)&&(u>0&&p(!0),m(P,e.extend({},c,{input:A(b,f)}),o,s(i))||(l=!1),!1)}}),l}a=!0===a;var u=i;void 0!==i.begin&&(u=le&&!s(i)?i.end:i.begin);for(var c=!1,f=e.extend(!0,{},d().validPositions),g=u-1;g>-1&&!d().validPositions[g];g--);var y;for(g++;u>g;g++)void 0===d().validPositions[g]&&(!1===r.jitMasking||r.jitMasking>g)&&((y=k(g)).match.def===r.radixPointDefinitionSymbol||!x(g,!0)||e.inArray(r.radixPoint,C())<g&&y.match.fn&&y.match.fn.test(G(g),d(),g,!1,r))&&l(v(g,!0)+1,y.match.placeholder||(null==y.match.fn?y.match.def:""!==G(g)?G(g):C()[g]),!0,o);if(s(i)&&(U(void 0,t.keyCode.DELETE,i),u=d().p),u<M()&&(c=l(u,n,a,o),(!a||!0===o)&&!1===c)){var _=d().validPositions[u];if(!_||null!==_.match.fn||_.match.def!==n&&n!==r.skipOptionalPartCharacter){if((r.insertMode||void 0===d().validPositions[O(u)])&&!x(u,!0)){var j=k(u).match;j=j.placeholder||j.def,l(u,j,a,o);for(var D=u+1,B=O(u);B>=D;D++)if(!1!==(c=l(D,n,a,o))){(function(t,i){for(var n=d().validPositions[i],a=n.locator,o=a.length,r=t;i>r;r++)if(void 0===d().validPositions[r]&&!x(r,!0)){var s=P(r),l=s[0],u=-1;e.each(s,function(e,t){for(var i=0;o>i&&void 0!==t.locator[i]&&S(t.locator[i].toString().split(","),a[i].toString().split(","));i++)i>u&&(u=i,l=t)}),m(r,e.extend({},l,{input:l.match.placeholder||l.match.def}),!0)}})(u,D),u=D;break}}}else c={caret:O(u)}}return!1===c&&r.keepStatic&&(c=function(t,i,n,a){for(var o,s,l,u,c,f,m=e.extend(!0,{},d().validPositions),h=e.extend(!0,{},d().tests),g=v();g>=0&&(!(u=d().validPositions[g])||void 0===u.alternation||(o=g,s=d().validPositions[o].alternation,k(o).locator[u.alternation]===u.locator[u.alternation]));g--);if(void 0!==s){o=parseInt(o);for(var y in d().validPositions)if(y=parseInt(y),u=d().validPositions[y],y>=o&&void 0!==u.alternation){var P;0===o?(P=[],e.each(d().tests[o],function(e,t){void 0!==t.locator[s]&&(P=P.concat(t.locator[s].toString().split(",")))})):P=d().validPositions[o].locator[s].toString().split(",");var _=void 0!==u.locator[s]?u.locator[s]:P[0];_.length>0&&(_=_.split(",")[0]);for(var C=0;C<P.length;C++){var w=[],A=0,S=0;if(_<P[C]){for(var x,M,O=y;O>=0;O--)if(void 0!==(x=d().validPositions[O])){var j=b(O,P[C]);d().validPositions[O].match.def!==j.match.def&&(w.push(d().validPositions[O].input),d().validPositions[O]=j,d().validPositions[O].input=G(O),null===d().validPositions[O].match.fn&&S++,x=j),M=x.locator[s],x.locator[s]=parseInt(P[C]);break}if(_!==x.locator[s]){for(c=y+1;c<v(void 0,!0)+1;c++)f=d().validPositions[c],f&&null!=f.match.fn?w.push(f.input):t>c&&A++,delete d().validPositions[c],delete d().tests[c];for(p(!0),r.keepStatic=!r.keepStatic,l=!0;w.length>0;){var T=w.shift();if(T!==r.skipOptionalPartCharacter&&!(l=E(v(void 0,!0)+1,T,!1,a)))break}if(x.alternation=s,x.locator[s]=M,l){var D=v(t)+1;for(c=y+1;c<v()+1;c++)(void 0===(f=d().validPositions[c])||null==f.match.fn)&&t>c&&S++;t+=S-A,l=E(t>D?D:t,i,n,a)}if(r.keepStatic=!r.keepStatic,l)return l;p(),d().validPositions=e.extend(!0,{},m),d().tests=e.extend(!0,{},h)}}}break}}return!1}(u,n,a,o)),!0===c&&(c={pos:u}),e.isFunction(r.postValidation)&&!1!==c&&!a&&!0!==o&&(c=!!r.postValidation(C(!0),c,r)&&c),void 0===c.pos&&(c.pos=u),!1===c&&(p(!0),d().validPositions=e.extend(!0,{},f)),c}function x(e,t){var i;if(t?(i=k(e).match,""===i.def&&(i=g(e))):i=g(e),null!=i.fn)return i.fn;if(!0!==t&&e>-1&&!r.keepStatic&&void 0===d().validPositions[e]){return P(e).length>2}return!1}function M(){var e;-1===(re=void 0!==ae?ae.maxLength:void 0)&&(re=void 0);var t,i=v(),n=d().validPositions[i],a=void 0!==n?n.locator.slice():void 0;for(t=i+1;void 0===n||null!==n.match.fn||null===n.match.fn&&""!==n.match.def;t++)n=k(t,a,t-1),a=n.locator.slice();return e=""!==g(t-1).def?t:t-1,void 0===re||re>e?e:re}function O(e,t){var i=M();if(e>=i)return i;for(var n=e;++n<i&&(!0===t&&(!0!==g(n).newBlockMarker||!x(n))||!0!==t&&!x(n)&&(!0!==r.nojumps||r.nojumpsThreshold>n)););return n}function j(e,t){var i=e;if(0>=i)return 0;for(;--i>0&&(!0===t&&!0!==g(i).newBlockMarker||!0!==t&&!x(i)););return i}function T(e){return void 0===d().validPositions[e]?G(e):d().validPositions[e].input}function D(t,i,n,a,o){if(a&&e.isFunction(r.onBeforeWrite)){var s=r.onBeforeWrite(a,i,n,r);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;w(!0===l?l:l.start,l.end,s.buffer||i),i=C(!0)}void 0!==n&&(n=void 0!==s.caret?s.caret:n)}}t.inputmask._valueSet(i.join("")),void 0===n||void 0!==a&&"blur"===a.type||F(t,n),!0===o&&(ce=!0,e(t).trigger("input"))}function G(e,t){if(t=t||g(e),void 0!==t.placeholder)return t.placeholder;if(null===t.fn){if(e>-1&&!r.keepStatic&&void 0===d().validPositions[e]){var i,n=P(e),a=[];if(n.length>2)for(var o=0;o<n.length;o++)if(!0!==n[o].match.optionality&&!0!==n[o].match.optionalQuantifier&&(null===n[o].match.fn||void 0===i||!1!==n[o].match.fn.test(i.match.def,d(),e,!0,r))&&(a.push(n[o]),null===n[o].match.fn&&(i=n[o]),a.length>1))return r.placeholder.charAt(e%r.placeholder.length)}return t.def}return r.placeholder.charAt(e%r.placeholder.length)}function B(i,n,a,o){function s(){var e=!1,t=_().slice(f,O(f)).join("").indexOf(c);if(-1!==t&&!x(f)){e=!0;for(var i=_().slice(f,f+t),n=0;n<i.length;n++)if(" "!==i[n]){e=!1;break}}return e}var l,u=o.slice(),c="",f=0;if(p(),d().p=O(-1),!a)if(!0!==r.autoUnmask){var m=_().slice(0,O(-1)).join(""),h=u.join("").match(new RegExp("^"+t.escapeRegex(m),"g"));h&&h.length>0&&(u.splice(0,h.length*m.length),f=O(f))}else f=O(f);e.each(u,function(t,n){if(void 0!==n){var o=new e.Event("keypress");o.which=n.charCodeAt(0),c+=n;var u=v(void 0,!0),m=d().validPositions[u],h=k(u+1,m?m.locator.slice():void 0,u);if(!s()||a||r.autoUnmask){var g=a?t:null==h.match.fn&&h.match.optionality&&u+1<d().p?u+1:d().p;l=W.call(i,o,!0,!1,a,g),f=g+1,c=""}else l=W.call(i,o,!0,!1,!0,u+1);if(!a&&e.isFunction(r.onBeforeWrite)&&(l=r.onBeforeWrite(o,C(),l.forwardPosition,r))&&l.refreshFromBuffer){var y=l.refreshFromBuffer;w(!0===y?y:y.start,y.end,l.buffer),p(!0),l.caret&&(d().p=l.caret)}}}),n&&D(i,C(),document.activeElement===i?O(v(0)):void 0,new e.Event("checkval"))}function I(t){if(t&&void 0===t.inputmask)return t.value;var i=[],n=d().validPositions;for(var a in n)n[a].match&&null!=n[a].match.fn&&i.push(n[a].input);var o=0===i.length?null:(le?i.reverse():i).join("");if(null!==o){var s=(le?C().slice().reverse():C()).join("");e.isFunction(r.onUnMask)&&(o=r.onUnMask(s,o,r)||o)}return o}function F(e,t,i,n){function a(e){if(!0!==n&&le&&"number"==typeof e&&(!r.greedy||""!==r.placeholder)){e=C().join("").length-e}return e}var o;if("number"!=typeof t)return e.setSelectionRange?(t=e.selectionStart,i=e.selectionEnd):window.getSelection?(o=window.getSelection().getRangeAt(0),(o.commonAncestorContainer.parentNode===e||o.commonAncestorContainer===e)&&(t=o.startOffset,i=o.endOffset)):document.selection&&document.selection.createRange&&(o=document.selection.createRange(),t=0-o.duplicate().moveStart("character",-e.inputmask._valueGet().length),i=t+o.text.length),{begin:a(t),end:a(i)};t=a(t),i=a(i),i="number"==typeof i?i:t;var s=parseInt(((e.ownerDocument.defaultView||window).getComputedStyle?(e.ownerDocument.defaultView||window).getComputedStyle(e,null):e.currentStyle).fontSize)*i;if(e.scrollLeft=s>e.scrollWidth?s:0,u||!1!==r.insertMode||t!==i||i++,e.setSelectionRange)e.selectionStart=t,e.selectionEnd=i;else if(window.getSelection){if(o=document.createRange(),void 0===e.firstChild||null===e.firstChild){var l=document.createTextNode("");e.appendChild(l)}o.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),o.setEnd(e.firstChild,i<e.inputmask._valueGet().length?i:e.inputmask._valueGet().length),o.collapse(!0);var c=window.getSelection();c.removeAllRanges(),c.addRange(o)}else e.createTextRange&&(o=e.createTextRange(),o.collapse(!0),o.moveEnd("character",i),o.moveStart("character",t),o.select())}function R(t){var i,n,a=C(),o=a.length,r=v(),s={},l=d().validPositions[r],u=void 0!==l?l.locator.slice():void 0;for(i=r+1;i<a.length;i++)n=k(i,u,i-1),u=n.locator.slice(),s[i]=e.extend(!0,{},n);var c=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(i=o-1;i>r&&(n=s[i],(n.match.optionality||n.match.optionalQuantifier||c&&(c!==s[i].locator[l.alternation]&&null!=n.match.fn||null===n.match.fn&&n.locator[l.alternation]&&S(n.locator[l.alternation].toString().split(","),c.toString().split(","))&&""!==P(i)[0].def))&&a[i]===G(i,n.match));i--)o--;return t?{l:o,def:s[o]?s[o].match:void 0}:o}function N(e){for(var t=R(),i=e.length-1;i>t&&!x(i);i--);return e.splice(t,i+1-t),e}function L(t){if(e.isFunction(r.isComplete))return r.isComplete(t,r);if("*"!==r.repeat){var i=!1,n=R(!0),a=j(n.l);if(void 0===n.def||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier){i=!0;for(var o=0;a>=o;o++){var s=k(o).match;if(null!==s.fn&&void 0===d().validPositions[o]&&!0!==s.optionality&&!0!==s.optionalQuantifier||null===s.fn&&t[o]!==G(o,s)){i=!1;break}}}return i}}function K(t){function i(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==v()||!0!==r.nullable?document.activeElement===this&&r.clearMaskOnLostFocus?(le?N(C().slice()).reverse():N(C().slice())).join(""):a.call(this):"":a.call(this)}function n(t){o.call(this,t),this.inputmask&&e(this).trigger("setvalue")}var a,o;if(!t.inputmask.__valueGet){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var s=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;s&&s.get&&s.set?(a=s.get,o=s.set,Object.defineProperty(t,"value",{get:i,set:n,configurable:!0})):"INPUT"!==t.tagName&&(a=function(){return this.textContent},o=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:i,set:n,configurable:!0}))}else document.__lookupGetter__&&t.__lookupGetter__("value")&&(a=t.__lookupGetter__("value"),o=t.__lookupSetter__("value"),t.__defineGetter__("value",i),t.__defineSetter__("value",n));t.inputmask.__valueGet=a,t.inputmask._valueGet=function(e){return le&&!0!==e?a.call(this.el).split("").reverse().join(""):a.call(this.el)},t.inputmask.__valueSet=o,t.inputmask._valueSet=function(e,t){o.call(this.el,null===e||void 0===e?"":!0!==t&&le?e.split("").reverse().join(""):e)},void 0===a&&(a=function(){return this.value},o=function(e){this.value=e},function(t){if(e.valHooks&&(void 0===e.valHooks[t]||!0!==e.valHooks[t].inputmaskpatch)){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},n=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=i(e);return-1!==v(void 0,void 0,e.inputmask.maskset.validPositions)||!0!==r.nullable?t:""}return i(e)},set:function(t,i){var a,o=e(t);return a=n(t,i),t.inputmask&&o.trigger("setvalue"),a},inputmaskpatch:!0}}}(t.type),function(t){pe.on(t,"mouseenter",function(t){var i=e(this);this.inputmask._valueGet()!==C().join("")&&i.trigger("setvalue")})}(t))}}function U(i,n,a,o){if((r.numericInput||le)&&(n===t.keyCode.BACKSPACE?n=t.keyCode.DELETE:n===t.keyCode.DELETE&&(n=t.keyCode.BACKSPACE),le)){var s=a.end;a.end=a.begin,a.begin=s}n===t.keyCode.BACKSPACE&&(a.end-a.begin<1||!1===r.insertMode)?(a.begin=j(a.begin),void 0===d().validPositions[a.begin]||d().validPositions[a.begin].input!==r.groupSeparator&&d().validPositions[a.begin].input!==r.radixPoint||a.begin--):n===t.keyCode.DELETE&&a.begin===a.end&&(a.end=x(a.end)?a.end+1:O(a.end)+1,void 0===d().validPositions[a.begin]||d().validPositions[a.begin].input!==r.groupSeparator&&d().validPositions[a.begin].input!==r.radixPoint||a.end++),h(a.begin,a.end,!1,o),!0!==o&&function(){if(r.keepStatic){p(!0);var t,n=[],a=e.extend(!0,{},d().validPositions);for(t=v();t>=0;t--){var o=d().validPositions[t];if(o&&(null!=o.match.fn&&n.push(o.input),delete d().validPositions[t],void 0!==o.alternation&&o.locator[o.alternation]===k(t).locator[o.alternation]))break}if(t>-1)for(;n.length>0;){d().p=O(v());var s=new e.Event("keypress");s.which=n.pop().charCodeAt(0),W.call(i,s,!0,!1,!1,d().p)}else d().validPositions=e.extend(!0,{},a)}}();var l=v(a.begin);l<a.begin?(-1===l&&p(),d().p=O(l)):!0!==o&&(d().p=a.begin)}function H(n){var a=this,o=e(a),s=n.keyCode,l=F(a);if(s===t.keyCode.BACKSPACE||s===t.keyCode.DELETE||f&&s===t.keyCode.BACKSPACE_SAFARI||n.ctrlKey&&s===t.keyCode.X&&!i("cut"))n.preventDefault(),U(a,s,l),D(a,C(),d().p,n,ne!==C().join("")),a.inputmask._valueGet()===_().join("")?o.trigger("cleared"):!0===L(C())&&o.trigger("complete"),r.showTooltip&&(a.title=r.tooltip||d().mask);else if(s===t.keyCode.END||s===t.keyCode.PAGE_DOWN){n.preventDefault();var u=O(v());r.insertMode||u!==M()||n.shiftKey||u--,F(a,n.shiftKey?l.begin:u,u,!0)}else s===t.keyCode.HOME&&!n.shiftKey||s===t.keyCode.PAGE_UP?(n.preventDefault(),F(a,0,n.shiftKey?l.begin:0,!0)):(r.undoOnEscape&&s===t.keyCode.ESCAPE||90===s&&n.ctrlKey)&&!0!==n.altKey?(B(a,!0,!1,ne.split("")),o.trigger("click")):s!==t.keyCode.INSERT||n.shiftKey||n.ctrlKey?!0===r.tabThrough&&s===t.keyCode.TAB?(!0===n.shiftKey?(null===g(l.begin).fn&&(l.begin=O(l.begin)),l.end=j(l.begin,!0),l.begin=j(l.end,!0)):(l.begin=O(l.begin,!0),l.end=O(l.begin,!0),l.end<M()&&l.end--),l.begin<M()&&(n.preventDefault(),F(a,l.begin,l.end))):!1!==r.insertMode||n.shiftKey||(s===t.keyCode.RIGHT?setTimeout(function(){var e=F(a);F(a,e.begin)},0):s===t.keyCode.LEFT&&setTimeout(function(){var e=F(a);F(a,le?e.begin+1:e.begin-1)},0)):(r.insertMode=!r.insertMode,F(a,r.insertMode||l.begin!==M()?l.begin:l.begin-1));r.onKeyDown.call(this,n,C(),F(a).begin,r),fe=-1!==e.inArray(s,r.ignorables)}function W(i,n,a,o,s){var l=this,u=e(l),c=i.which||i.charCode||i.keyCode;if(!(!0===n||i.ctrlKey&&i.altKey)&&(i.ctrlKey||i.metaKey||fe))return c===t.keyCode.ENTER&&ne!==C().join("")&&(ne=C().join(""),setTimeout(function(){u.trigger("change")},0)),!0;if(c){46===c&&!1===i.shiftKey&&","===r.radixPoint&&(c=44);var f,v=n?{begin:s,end:s}:F(l),m=String.fromCharCode(c);d().writeOutBuffer=!0;var h=E(v,m,o);if(!1!==h){var k=h.pos;if(p(!0),void 0!==h.caret)f=h.caret;else{var g=d().validPositions;f=!r.keepStatic&&(void 0!==g[k+1]&&P(k+1,g[k].locator.slice(),k).length>1||void 0!==g[k].alternation)?k+1:O(k)}d().p=f}if(!1!==a){var y=this;if(setTimeout(function(){r.onKeyValidation.call(y,c,h,r)},0),d().writeOutBuffer&&!1!==h){var b=C();D(l,b,r.numericInput&&void 0===h.caret?j(f):f,i,!0!==n),!0!==n&&setTimeout(function(){!0===L(b)&&u.trigger("complete")},0)}}if(r.showTooltip&&(l.title=r.tooltip||d().mask),i.preventDefault(),n)return h.forwardPosition=f,h}}function Q(t){var i,n=this,a=t.originalEvent||t,o=e(n),s=n.inputmask._valueGet(!0),l=F(n);le&&(i=l.end,l.end=l.begin,l.begin=i);var u=s.substr(0,l.begin),c=s.substr(l.end,s.length);u===(le?_().reverse():_()).slice(0,l.begin).join("")&&(u=""),c===(le?_().reverse():_()).slice(l.end).join("")&&(c=""),le&&(i=u,u=c,c=i),window.clipboardData&&window.clipboardData.getData?s=u+window.clipboardData.getData("Text")+c:a.clipboardData&&a.clipboardData.getData&&(s=u+a.clipboardData.getData("text/plain")+c);var f=s;if(e.isFunction(r.onBeforePaste)){if(!1===(f=r.onBeforePaste(s,r)))return t.preventDefault();f||(f=s)}return B(n,!1,!1,le?f.split("").reverse():f.toString().split("")),D(n,C(),O(v()),t,!0),!0===L(C())&&o.trigger("complete"),t.preventDefault()}function V(i){var n=this,a=n.inputmask._valueGet();if(C().join("")!==a){var o=F(n);if(a=a.replace(new RegExp("("+t.escapeRegex(_().join(""))+")*"),""),c){var r=a.replace(C().join(""),"");if(1===r.length){var s=new e.Event("keypress");return s.which=r.charCodeAt(0),W.call(n,s,!0,!0,!1,d().validPositions[o.begin-1]?o.begin:o.begin-1),!1}}if(o.begin>a.length&&(F(n,a.length),o=F(n)),C().length-a.length!=1||a.charAt(o.begin)===C()[o.begin]||a.charAt(o.begin+1)===C()[o.begin]||x(o.begin)){for(var l=v()+1,u=C().slice(l).join("");null===a.match(t.escapeRegex(u)+"$");)u=u.slice(1);a=a.replace(u,""),a=a.split(""),B(n,!0,!1,a),!0===L(C())&&e(n).trigger("complete")}else i.keyCode=t.keyCode.BACKSPACE,H.call(n,i);i.preventDefault()}}function q(t){var i=this,n=i.inputmask._valueGet();B(i,!0,!1,(e.isFunction(r.onBeforeMask)?r.onBeforeMask(n,r)||n:n).split("")),ne=C().join(""),(r.clearMaskOnLostFocus||r.clearIncomplete)&&i.inputmask._valueGet()===_().join("")&&i.inputmask._valueSet("")}function $(e){var t=this,i=t.inputmask._valueGet();r.showMaskOnFocus&&(!r.showMaskOnHover||r.showMaskOnHover&&""===i)?t.inputmask._valueGet()!==C().join("")&&D(t,C(),O(v())):!1===de&&F(t,O(v())),!0===r.positionCaretOnTab&&setTimeout(function(){F(t,O(v()))},0),ne=C().join("")}function z(e){var t=this;if(de=!1,r.clearMaskOnLostFocus&&document.activeElement!==t){var i=C().slice(),n=t.inputmask._valueGet();n!==t.getAttribute("placeholder")&&""!==n&&(-1===v()&&n===_().join("")?i=[]:N(i),D(t,i))}}function X(t){function i(t){if(r.radixFocus&&""!==r.radixPoint){var i=d().validPositions;if(void 0===i[t]||i[t].input===G(t)){if(t<O(-1))return!0;var n=e.inArray(r.radixPoint,C());if(-1!==n){for(var a in i)if(a>n&&i[a].input!==G(a))return!1;return!0}}}return!1}var n=this;setTimeout(function(){if(document.activeElement===n){var t=F(n);if(t.begin===t.end)if(i(t.begin))F(n,r.numericInput?O(e.inArray(r.radixPoint,C())):e.inArray(r.radixPoint,C()));else{var a=t.begin,o=v(a,!0),s=O(o);if(s>a)F(n,x(a)||x(a-1)?a:O(a));else{var l=G(s);(""!==l&&C()[s]!==l||!x(s,!0)&&g(s).def===l)&&(s=O(s)),F(n,s)}}}},0)}function Z(e){var t=this;setTimeout(function(){F(t,0,O(v()))},0)}function J(i){var n=this,a=e(n),o=F(n),s=i.originalEvent||i,l=window.clipboardData||s.clipboardData,u=le?C().slice(o.end,o.begin):C().slice(o.begin,o.end);l.setData("text",le?u.reverse().join(""):u.join("")),document.execCommand&&document.execCommand("copy"),U(n,t.keyCode.DELETE,o),D(n,C(),d().p,i,ne!==C().join("")),n.inputmask._valueGet()===_().join("")&&a.trigger("cleared"),r.showTooltip&&(n.title=r.tooltip||d().mask)}function Y(t){var i=e(this),n=this;if(n.inputmask){var a=n.inputmask._valueGet(),o=C().slice();ne!==o.join("")&&setTimeout(function(){i.trigger("change"),ne=o.join("")},0),""!==a&&(r.clearMaskOnLostFocus&&(-1===v()&&a===_().join("")?o=[]:N(o)),!1===L(o)&&(setTimeout(function(){i.trigger("incomplete")},0),r.clearIncomplete&&(p(),o=r.clearMaskOnLostFocus?[]:_().slice())),D(n,o,void 0,t))}}function ee(e){var t=this;de=!0,document.activeElement!==t&&r.showMaskOnHover&&t.inputmask._valueGet()!==C().join("")&&D(t,C())}function te(e){ne!==C().join("")&&oe.trigger("change"),r.clearMaskOnLostFocus&&-1===v()&&ae.inputmask._valueGet&&ae.inputmask._valueGet()===_().join("")&&ae.inputmask._valueSet(""),r.removeMaskOnSubmit&&(ae.inputmask._valueSet(ae.inputmask.unmaskedvalue(),!0),setTimeout(function(){D(ae,C())},0))}function ie(e){setTimeout(function(){oe.trigger("setvalue")},0)}var ne,ae,oe,re,se,le=!1,ue=!1,ce=!1,fe=!1,de=!0,pe={on:function(i,n,a){var o=function(i){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var n=e.data(this,"_inputmask_opts");n?new t(n).mask(this):pe.off(this)}else{if("setvalue"===i.type||!(this.disabled||this.readOnly&&!("keydown"===i.type&&i.ctrlKey&&67===i.keyCode||!1===r.tabThrough&&i.keyCode===t.keyCode.TAB))){switch(i.type){case"input":if(!0===ce)return ce=!1,i.preventDefault();break;case"keydown":ue=!1,ce=!1;break;case"keypress":if(!0===ue)return i.preventDefault();ue=!0;break;case"click":if(c){var o=this;return setTimeout(function(){a.apply(o,arguments)},0),!1}}var s=a.apply(this,arguments);return!1===s&&(i.preventDefault(),i.stopPropagation()),s}i.preventDefault()}};i.inputmask.events[n]=i.inputmask.events[n]||[],i.inputmask.events[n].push(o),-1!==e.inArray(n,["submit","reset"])?null!=i.form&&e(i.form).on(n,o):e(i).on(n,o)},off:function(t,i){if(t.inputmask&&t.inputmask.events){var n;i?(n=[],n[i]=t.inputmask.events[i]):n=t.inputmask.events,e.each(n,function(i,n){for(;n.length>0;){var a=n.pop();-1!==e.inArray(i,["submit","reset"])?null!=t.form&&e(t.form).off(i,a):e(t).off(i,a)}delete t.inputmask.events[i]})}}};if(void 0!==a)switch(a.action){case"isComplete":return ae=a.el,L(C());case"unmaskedvalue":return ae=a.el,void 0!==ae&&void 0!==ae.inputmask?(o=ae.inputmask.maskset,r=ae.inputmask.opts,le=ae.inputmask.isRTL):(se=a.value,r.numericInput&&(le=!0),se=(e.isFunction(r.onBeforeMask)?r.onBeforeMask(se,r)||se:se).split(""),B(void 0,!1,!1,le?se.reverse():se),e.isFunction(r.onBeforeWrite)&&r.onBeforeWrite(void 0,C(),0,r)),I(ae);case"mask":ae=a.el,o=ae.inputmask.maskset,r=ae.inputmask.opts,le=ae.inputmask.isRTL,ne=C().join(""),function(t){if(ae=t,oe=e(ae),r.showTooltip&&(ae.title=r.tooltip||d().mask),("rtl"===ae.dir||r.rightAlign)&&(ae.style.textAlign="right"),("rtl"===ae.dir||r.numericInput)&&(ae.dir="ltr",ae.removeAttribute("dir"),ae.inputmask.isRTL=!0,le=!0),pe.off(ae),K(ae),n(ae,r)&&(pe.on(ae,"submit",te),pe.on(ae,"reset",ie),pe.on(ae,"mouseenter",ee),pe.on(ae,"blur",Y),pe.on(ae,"focus",$),pe.on(ae,"mouseleave",z),pe.on(ae,"click",X),pe.on(ae,"dblclick",Z),pe.on(ae,"paste",Q),pe.on(ae,"dragdrop",Q),pe.on(ae,"drop",Q),pe.on(ae,"cut",J),pe.on(ae,"complete",r.oncomplete),pe.on(ae,"incomplete",r.onincomplete),pe.on(ae,"cleared",r.oncleared),pe.on(ae,"keydown",H),pe.on(ae,"keypress",W),pe.on(ae,"input",V)),pe.on(ae,"setvalue",q),""!==ae.inputmask._valueGet()||!1===r.clearMaskOnLostFocus||document.activeElement===ae){var i=e.isFunction(r.onBeforeMask)?r.onBeforeMask(ae.inputmask._valueGet(),r)||ae.inputmask._valueGet():ae.inputmask._valueGet();B(ae,!0,!1,i.split(""));var a=C().slice();ne=a.join(""),!1===L(a)&&r.clearIncomplete&&p(),r.clearMaskOnLostFocus&&document.activeElement!==ae&&(-1===v()?a=[]:N(a)),D(ae,a),document.activeElement===ae&&F(ae,O(v()))}}(ae);break;case"format":return r.numericInput&&(le=!0),se=(e.isFunction(r.onBeforeMask)?r.onBeforeMask(a.value,r)||a.value:a.value).split(""),B(void 0,!1,!1,le?se.reverse():se),e.isFunction(r.onBeforeWrite)&&r.onBeforeWrite(void 0,C(),0,r),a.metadata?{value:le?C().slice().reverse().join(""):C().join(""),metadata:s({action:"getmetadata"},o,r)}:le?C().slice().reverse().join(""):C().join("");case"isValid":r.numericInput&&(le=!0),a.value?(se=a.value.split(""),B(void 0,!1,!0,le?se.reverse():se)):a.value=C().join("");for(var ve=C(),me=R(),he=ve.length-1;he>me&&!x(he);he--);return ve.splice(me,he+1-me),L(ve)&&a.value===C().join("");case"getemptymask":return _().join("");case"remove":ae=a.el,oe=e(ae),o=ae.inputmask.maskset,r=ae.inputmask.opts,ae.inputmask._valueSet(I(ae)),pe.off(ae);Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ae),"value")&&ae.inputmask.__valueGet&&Object.defineProperty(ae,"value",{get:ae.inputmask.__valueGet,set:ae.inputmask.__valueSet,configurable:!0}):document.__lookupGetter__&&ae.__lookupGetter__("value")&&ae.inputmask.__valueGet&&(ae.__defineGetter__("value",ae.inputmask.__valueGet),ae.__defineSetter__("value",ae.inputmask.__valueSet)),ae.inputmask=void 0;break;case"getmetadata":if(e.isArray(o.metadata)){for(var ke,ge=v(void 0,!0),ye=ge;ye>=0;ye--)if(d().validPositions[ye]&&void 0!==d().validPositions[ye].alternation){ke=d().validPositions[ye].alternation;break}return void 0!==ke?o.metadata[d().validPositions[ye].locator[ke]]:[]}return o.metadata}}t.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,i){return e.isFunction(i.onBeforeMask)?i.onBeforeMask(t,i):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:null,positionCaretOnTab:!1,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:e.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0},masksCache:{},mask:function(i){var n=this;return"string"==typeof i&&(i=document.getElementById(i)||document.querySelectorAll(i)),i=i.nodeName?[i]:i,e.each(i,function(i,a){var l=e.extend(!0,{},n.opts);o(a,l,e.extend(!0,{},n.userOptions));var u=r(l,n.noMasksCache);void 0!==u&&(void 0!==a.inputmask&&a.inputmask.remove(),a.inputmask=new t,a.inputmask.opts=l,a.inputmask.noMasksCache=n.noMasksCache,a.inputmask.userOptions=e.extend(!0,{},n.userOptions),a.inputmask.el=a,a.inputmask.maskset=u,a.inputmask.isRTL=!1,e.data(a,"_inputmask_opts",l),s({action:"mask",el:a}))}),i&&i[0]?i[0].inputmask||this:this},option:function(t,i){return"string"==typeof t?this.opts[t]:"object"==typeof t?(e.extend(this.userOptions,t),this.el&&!0!==i&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return s({action:"unmaskedvalue",el:this.el,value:e},this.el&&this.el.inputmask?this.el.inputmask.maskset:r(this.opts,this.noMasksCache),this.opts)},remove:function(){return this.el?(s({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el):void 0},getemptymask:function(){return s({action:"getemptymask"},this.maskset||r(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return s({action:"isComplete",el:this.el},this.maskset||r(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return s({action:"getmetadata"},this.maskset||r(this.opts,this.noMasksCache),this.opts)},isValid:function(e){return s({action:"isValid",value:e},this.maskset||r(this.opts,this.noMasksCache),this.opts)},format:function(e,t){return s({action:"format",value:e,metadata:t},this.maskset||r(this.opts,this.noMasksCache),this.opts)}},t.extendDefaults=function(i){e.extend(!0,t.prototype.defaults,i)},t.extendDefinitions=function(i){e.extend(!0,t.prototype.defaults.definitions,i)},t.extendAliases=function(i){e.extend(!0,t.prototype.defaults.aliases,i)},t.format=function(e,i,n){return t(i).format(e,n)},t.unmask=function(e,i){return t(i).unmaskedvalue(e)},t.isValid=function(e,i){return t(i).isValid(e)},t.remove=function(t){e.each(t,function(e,t){t.inputmask&&t.inputmask.remove()})},t.escapeRegex=function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},t.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88};var l=navigator.userAgent,u=/mobile/i.test(l),c=/iemobile/i.test(l),f=/iphone/i.test(l)&&!c;return/android.*safari.*/i.test(l),window.Inputmask=t,t});