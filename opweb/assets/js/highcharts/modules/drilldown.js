!function(i){"object"==typeof module&&module.exports?module.exports=i:i(Highcharts)}(function(i){"use strict";function t(i,t,e){var o,r;return t.rgba.length&&i.rgba.length?(i=i.rgba,t=t.rgba,o=1!==t[3]||1!==i[3],r=(o?"rgba(":"rgb(")+Math.round(t[0]+(i[0]-t[0])*(1-e))+","+Math.round(t[1]+(i[1]-t[1])*(1-e))+","+Math.round(t[2]+(i[2]-t[2])*(1-e))+(o?","+(t[3]+(i[3]-t[3])*(1-e)):"")+")"):r=t.input||"none",r}var e=function(){},o=i.getOptions(),r=i.each,l=i.extend,n=i.format,s=i.merge,a=i.pick,d=i.wrap,p=i.Chart,h=i.seriesTypes,c=h.pie,u=h.column,g=i.Tick,v=i.fireEvent,w=i.inArray,m=1;r(["fill","stroke"],function(e){i.Fx.prototype[e+"Setter"]=function(){this.elem.attr(e,t(i.Color(this.start),i.Color(this.end),this.pos))}}),l(o.lang,{drillUpText:"◁ Back to {series.name}"}),o.drilldown={activeAxisLabelStyle:{cursor:"pointer",color:"#0d233a",fontWeight:"bold",textDecoration:"underline"},activeDataLabelStyle:{cursor:"pointer",color:"#0d233a",fontWeight:"bold",textDecoration:"underline"},animation:{duration:500},drillUpButton:{position:{align:"right",x:-10,y:10}}},i.SVGRenderer.prototype.Element.prototype.fadeIn=function(i){this.attr({opacity:.1,visibility:"inherit"}).animate({opacity:a(this.newOpacity,1)},i||{duration:250})},p.prototype.addSeriesAsDrilldown=function(i,t){this.addSingleSeriesAsDrilldown(i,t),this.applyDrilldown()},p.prototype.addSingleSeriesAsDrilldown=function(i,t){var o,l,n,s,a,d=i.series,p=d.xAxis,h=d.yAxis,c=i.color||d.color,u=[],g=[];this.drilldownLevels||(this.drilldownLevels=[]),s=d.options._levelNumber||0,a=this.drilldownLevels[this.drilldownLevels.length-1],a&&a.levelNumber!==s&&(a=void 0),t.color||(t.color=c),t._ddSeriesId=m++,l=w(i,d.points),r(d.chart.series,function(i){i.xAxis!==p||i.isDrilling||(i.options._ddSeriesId=i.options._ddSeriesId||m++,i.options._colorIndex=i.userOptions._colorIndex,i.options._levelNumber=i.options._levelNumber||s,a?(u=a.levelSeries,g=a.levelSeriesOptions):(u.push(i),g.push(i.options)))}),n={levelNumber:s,seriesOptions:d.options,levelSeriesOptions:g,levelSeries:u,shapeArgs:i.shapeArgs,bBox:i.graphic?i.graphic.getBBox():{},color:c,lowerSeriesOptions:t,pointOptions:d.options.data[l],pointIndex:l,oldExtremes:{xMin:p&&p.userMin,xMax:p&&p.userMax,yMin:h&&h.userMin,yMax:h&&h.userMax}},this.drilldownLevels.push(n),o=n.lowerSeries=this.addSeries(t,!1),o.options._levelNumber=s+1,p&&(p.oldPos=p.pos,p.userMin=p.userMax=null,h.userMin=h.userMax=null),d.type===o.type&&(o.animate=o.animateDrilldown||e,o.options.animation=!0)},p.prototype.applyDrilldown=function(){var i,t=this.drilldownLevels;t&&t.length>0&&(i=t[t.length-1].levelNumber,r(this.drilldownLevels,function(t){t.levelNumber===i&&r(t.levelSeries,function(t){t.options&&t.options._levelNumber===i&&t.remove(!1)})})),this.redraw(),this.showDrillUpButton()},p.prototype.getDrilldownBackText=function(){var i,t=this.drilldownLevels;if(t&&t.length>0)return i=t[t.length-1],i.series=i.seriesOptions,n(this.options.lang.drillUpText,i)},p.prototype.showDrillUpButton=function(){var i,t,e=this,o=this.getDrilldownBackText(),r=e.options.drilldown.drillUpButton;this.drillUpButton?this.drillUpButton.attr({text:o}).align():(i=r.theme,t=i&&i.states,this.drillUpButton=this.renderer.button(o,null,null,function(){e.drillUp()},i,t&&t.hover,t&&t.select).attr({align:r.position.align,zIndex:9}).add().align(r.position,!1,r.relativeTo||"plotBox"))},p.prototype.drillUp=function(){for(var i,t,e,o,l,n=this,s=n.drilldownLevels,a=s[s.length-1].levelNumber,d=s.length,p=n.series,h=function(i){var l;r(p,function(t){t.options._ddSeriesId===i._ddSeriesId&&(l=t)}),l=l||n.addSeries(i,!1),l.type===e.type&&l.animateDrillupTo&&(l.animate=l.animateDrillupTo),i===t.seriesOptions&&(o=l)};d--;)if(t=s[d],t.levelNumber===a){if(s.pop(),e=t.lowerSeries,!e.chart)for(i=p.length;i--;)if(p[i].options.id===t.lowerSeriesOptions.id&&p[i].options._levelNumber===a+1){e=p[i];break}e.xData=[],r(t.levelSeriesOptions,h),v(n,"drillup",{seriesOptions:t.seriesOptions}),o.type===e.type&&(o.drilldownLevel=t,o.options.animation=n.options.drilldown.animation,e.animateDrillupFrom&&e.chart&&e.animateDrillupFrom(t)),o.options._levelNumber=a,e.remove(!1),o.xAxis&&(l=t.oldExtremes,o.xAxis.setExtremes(l.xMin,l.xMax,!1),o.yAxis.setExtremes(l.yMin,l.yMax,!1))}v(n,"drillupall"),this.redraw(),0===this.drilldownLevels.length?this.drillUpButton=this.drillUpButton.destroy():this.drillUpButton.attr({text:this.getDrilldownBackText()}).align(),this.ddDupes.length=[]},u.prototype.supportsDrilldown=!0,u.prototype.animateDrillupTo=function(i){if(!i){var t=this,o=t.drilldownLevel;r(this.points,function(i){i.graphic&&i.graphic.hide(),i.dataLabel&&i.dataLabel.hide(),i.connector&&i.connector.hide()}),setTimeout(function(){t.points&&r(t.points,function(i,t){var e=t===(o&&o.pointIndex)?"show":"fadeIn",r="show"===e||void 0;i.graphic&&i.graphic[e](r),i.dataLabel&&i.dataLabel[e](r),i.connector&&i.connector[e](r)})},Math.max(this.chart.options.drilldown.animation.duration-50,0)),this.animate=e}},u.prototype.animateDrilldown=function(i){var t,e=this,o=this.chart.drilldownLevels,n=this.chart.options.drilldown.animation,s=this.xAxis;i||(r(o,function(i){e.options._ddSeriesId===i.lowerSeriesOptions._ddSeriesId&&(t=i.shapeArgs,t.fill=i.color)}),t.x+=a(s.oldPos,s.pos)-s.pos,r(this.points,function(i){i.graphic&&i.graphic.attr(t).animate(l(i.shapeArgs,{fill:i.color||e.color}),n),i.dataLabel&&i.dataLabel.fadeIn(n)}),this.animate=null)},u.prototype.animateDrillupFrom=function(t){var e=this.chart.options.drilldown.animation,o=this.group,n=this;r(n.trackerGroups,function(i){n[i]&&n[i].on("mouseover")}),delete this.group,r(this.points,function(r){var n=r.graphic,s=function(){n.destroy(),o&&(o=o.destroy())};n&&(delete r.graphic,e?n.animate(l(t.shapeArgs,{fill:t.color}),i.merge(e,{complete:s})):(n.attr(t.shapeArgs),s()))})},c&&l(c.prototype,{supportsDrilldown:!0,animateDrillupTo:u.prototype.animateDrillupTo,animateDrillupFrom:u.prototype.animateDrillupFrom,animateDrilldown:function(t){var e=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],o=this.chart.options.drilldown.animation,n=e.shapeArgs,s=n.start,a=n.end-s,d=a/this.points.length;t||(r(this.points,function(t,r){t.graphic.attr(i.merge(n,{start:s+r*d,end:s+(r+1)*d,fill:e.color}))[o?"animate":"attr"](l(t.shapeArgs,{fill:t.color}),o)}),this.animate=null)}}),i.Point.prototype.doDrilldown=function(i,t,e){var o,r=this.series,l=r.chart,n=l.options.drilldown,s=(n.series||[]).length;for(l.ddDupes||(l.ddDupes=[]);s--&&!o;)n.series[s].id===this.drilldown&&-1===w(this.drilldown,l.ddDupes)&&(o=n.series[s],l.ddDupes.push(this.drilldown));v(l,"drilldown",{point:this,seriesOptions:o,category:t,originalEvent:e,points:void 0!==t&&this.series.xAxis.ddPoints[t].slice(0)},function(t){var e=t.point.series&&t.point.series.chart,o=t.seriesOptions;e&&o&&(i?e.addSingleSeriesAsDrilldown(t.point,o):e.addSeriesAsDrilldown(t.point,o))})},i.Axis.prototype.drilldownCategory=function(i,t){var e,o,r=this.ddPoints[i];for(e in r)(o=r[e])&&o.series&&o.series.visible&&o.doDrilldown&&o.doDrilldown(!0,i,t);this.chart.applyDrilldown()},i.Axis.prototype.getDDPoints=function(i,t){var e=this.ddPoints;return e||(this.ddPoints=e={}),e[i]||(e[i]=[]),e[i].levelNumber!==t&&(e[i].length=0),e[i]},g.prototype.drillable=function(){var t=this.pos,e=this.label,o=this.axis,r=o.ddPoints&&o.ddPoints[t];e&&r&&r.length?(e.basicStyles||(e.basicStyles=i.merge(e.styles)),e.addClass("highcharts-drilldown-axis-label").css(o.chart.options.drilldown.activeAxisLabelStyle).on("click",function(i){o.drilldownCategory(t,i)})):e&&e.basicStyles&&(e.styles={},e.css(e.basicStyles),e.on("click",null))},d(g.prototype,"addLabel",function(i){i.call(this),this.drillable()}),d(i.Point.prototype,"init",function(t,e,o,r){var l=t.call(this,e,o,r),n=e.xAxis,s=n&&n.ticks[r],a=n&&n.getDDPoints(r,e.options._levelNumber);return l.drilldown&&(i.addEvent(l,"click",function(i){e.xAxis&&!1===e.chart.options.drilldown.allowPointDrilldown?e.xAxis.drilldownCategory(r,i):l.doDrilldown(void 0,void 0,i)}),a&&(a.push(l),a.levelNumber=e.options._levelNumber)),s&&s.drillable(),l}),d(i.Series.prototype,"drawDataLabels",function(i){var t=this,e=t.chart.options.drilldown.activeDataLabelStyle,o=t.chart.renderer;i.call(t),r(t.points,function(i){var r={};i.drilldown&&i.dataLabel&&("contrast"===e.color&&(r.color=o.getContrast(i.color||t.color)),i.dataLabel.attr({class:"highcharts-drilldown-data-label"}).css(s(e,r)))})});var f,x=function(i){i.call(this),r(this.points,function(i){i.drilldown&&i.graphic&&i.graphic.attr({class:"highcharts-drilldown-point"}).css({cursor:"pointer"})})};for(f in h)h[f].prototype.supportsDrilldown&&d(h[f].prototype,"drawTracker",x)});