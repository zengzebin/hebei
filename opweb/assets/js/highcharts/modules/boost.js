!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){"use strict";function e(t,i,o,n,r){r=r||0,n=n||x;for(var a=r+n,s=!0;s&&r<a&&r<t.length;)s=i(t[r],r),r+=1;s&&(r<t.length?setTimeout(function(){e(t,i,o,n,r)}):o&&o())}var i,o=t.win,n=o.document,r=function(){},a=t.Color,s=t.Series,l=t.seriesTypes,c=t.each,h=t.extend,p=t.addEvent,d=t.fireEvent,u=t.grep,g=t.isNumber,v=t.merge,m=t.pick,y=t.wrap,f=t.getOptions().plotOptions,x=5e4;c(["area","arearange","column","line","scatter"],function(t){f[t]&&(f[t].boostThreshold=5e3)}),c(["translate","generatePoints","drawTracker","drawPoints","render"],function(t){function e(e){var i=this.options.stacking&&("translate"===t||"generatePoints"===t);(this.processedXData||this.options.data).length<(this.options.boostThreshold||Number.MAX_VALUE)||i?("render"===t&&this.image&&(this.image.attr({href:""}),this.animate=null),e.call(this)):this[t+"Canvas"]&&this[t+"Canvas"]()}y(s.prototype,t,e),"translate"===t&&(l.column&&y(l.column.prototype,t,e),l.arearange&&y(l.arearange.prototype,t,e))}),y(s.prototype,"getExtremes",function(t){this.hasExtremes()||t.apply(this,Array.prototype.slice.call(arguments,1))}),y(s.prototype,"setData",function(t){this.hasExtremes(!0)||t.apply(this,Array.prototype.slice.call(arguments,1))}),y(s.prototype,"processData",function(t){this.hasExtremes(!0)||t.apply(this,Array.prototype.slice.call(arguments,1))}),t.extend(s.prototype,{pointRange:0,allowDG:!1,hasExtremes:function(t){var e=this.options,i=e.data,o=this.xAxis&&this.xAxis.options,n=this.yAxis&&this.yAxis.options;return i.length>(e.boostThreshold||Number.MAX_VALUE)&&g(n.min)&&g(n.max)&&(!t||g(o.min)&&g(o.max))},destroyGraphics:function(){var t,e,i=this,o=this.points;if(o)for(e=0;e<o.length;e+=1)(t=o[e])&&t.graphic&&(t.graphic=t.graphic.destroy());c(["graph","area","tracker"],function(t){i[t]&&(i[t]=i[t].destroy())})},getContext:function(){var t=this.chart,e=t.plotWidth,i=t.plotHeight,o=this.ctx,r=function(t,e,i,o,n,r,a){t.call(this,i,e,o,n,r,a)};return this.canvas?o.clearRect(0,0,e,i):(this.canvas=n.createElement("canvas"),this.image=t.renderer.image("",0,0,e,i).add(this.group),this.ctx=o=this.canvas.getContext("2d"),t.inverted&&c(["moveTo","lineTo","rect","arc"],function(t){y(o,t,r)})),this.canvas.width=e,this.canvas.height=i,this.image.attr({width:e,height:i}),o},canvasToSVG:function(){this.image.attr({href:this.canvas.toDataURL("image/png")})},cvsLineTo:function(t,e,i){t.lineTo(e,i)},renderCanvas:function(){var t,o,n,s,l,c,u,y,f,T=this,b=T.options,k=T.chart,P=this.xAxis,A=this.yAxis,w=0,D=T.processedXData,C=T.processedYData,M=b.data,X=P.getExtremes(),E=X.min,S=X.max,G=A.getExtremes(),L=G.min,N=G.max,Y={},O=!!T.sampling,V=b.marker&&b.marker.radius,R=this.cvsDrawPoint,U=!!b.lineWidth&&this.cvsLineTo,W=V<=1?this.cvsMarkerSquare:this.cvsMarkerCircle,q=!1!==b.enableMouseTracking,K=b.threshold,_=A.getThreshold(K),j=g(K),B=_,H=this.fill,I=T.pointArrayMap&&"low,high"===T.pointArrayMap.join(","),z=!!b.stacking,F=T.cropStart||0,J=k.options.loading,Q=T.requireSorting,Z=b.connectNulls,$=!D,tt=T.fillOpacity?new a(T.color).setOpacity(m(b.fillOpacity,.75)).get():T.color,et=function(){H?(t.fillStyle=tt,t.fill()):(t.strokeStyle=T.color,t.lineWidth=b.lineWidth,t.stroke())},it=function(e,i,o){0===w&&t.beginPath(),l?t.moveTo(e,i):R?R(t,e,i,o,s):U?U(t,e,i):W&&W(t,e,i,V),w+=1,1e3===w&&(et(),w=0),s={clientX:e,plotY:i,yBottom:o}},ot=function(t,e,i){q&&!Y[t+","+e]&&(Y[t+","+e]=!0,k.inverted&&(t=P.len-t,e=A.len-e),n.push({clientX:t,plotX:t,plotY:e,i:F+i}))};(this.points||this.graph)&&this.destroyGraphics(),T.plotGroup("group","series",T.visible?"visible":"hidden",b.zIndex,k.seriesGroup),T.getAttribs(),T.markerGroup=T.group,p(T,"destroy",function(){T.markerGroup=null}),n=this.points=[],t=this.getContext(),T.buildKDTree=r,M.length>99999&&(k.options.loading=v(J,{labelStyle:{backgroundColor:"rgba(255,255,255,0.75)",padding:"1em",borderRadius:"0.5em"},style:{backgroundColor:"none",opacity:1}}),clearTimeout(i),k.showLoading("Drawing..."),k.options.loading=J),e(z?T.data:D||M,function(t,e){var i,n,r,a,s,h,p=void 0===k.index,d=!0;return p||($?(i=t[0],n=t[1]):(i=t,n=C[e]),I?($&&(n=t.slice(1,3)),h=n[0],n=n[1]):z&&(i=t.x,n=t.stackY,h=n-t.y),s=null===n,Q||(d=n>=L&&n<=N),!s&&i>=E&&i<=S&&d&&(r=Math.round(P.toPixels(i,!0)),O?(void 0!==y&&r!==o||(I||(h=n),(void 0===f||n>u)&&(u=n,f=e),(void 0===y||h<c)&&(c=h,y=e)),r!==o&&(void 0!==y&&(a=A.toPixels(u,!0),_=A.toPixels(c,!0),it(r,j?Math.min(a,B):a,j?Math.max(_,B):_),ot(r,a,f),_!==a&&ot(r,_,y)),y=f=void 0,o=r)):(a=Math.round(A.toPixels(n,!0)),it(r,a,_),ot(r,a,e))),l=s&&!Z,e%x==0&&T.canvasToSVG()),!p},function(){var t=k.loadingDiv,e=k.loadingShown;et(),T.canvasToSVG(),d(T,"renderedCanvas"),e&&(h(t.style,{transition:"opacity 250ms",opacity:0}),k.loadingShown=!1,i=setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t),k.loadingDiv=k.loadingSpan=null},250)),T.directTouch=!1,T.options.stickyTracking=!0,delete T.buildKDTree,T.buildKDTree()},k.renderer.forExport?Number.MAX_VALUE:void 0)}}),l.scatter.prototype.cvsMarkerCircle=function(t,e,i,o){t.moveTo(e,i),t.arc(e,i,o,0,2*Math.PI,!1)},l.scatter.prototype.cvsMarkerSquare=function(t,e,i,o){t.rect(e-o,i-o,2*o,2*o)},l.scatter.prototype.fill=!0,h(l.area.prototype,{cvsDrawPoint:function(t,e,i,o,n){n&&e!==n.clientX&&(t.moveTo(n.clientX,n.yBottom),t.lineTo(n.clientX,n.plotY),t.lineTo(e,i),t.lineTo(e,o))},fill:!0,fillOpacity:!0,sampling:!0}),h(l.column.prototype,{cvsDrawPoint:function(t,e,i,o){t.rect(e-1,i,1,o-i)},fill:!0,sampling:!0}),s.prototype.getPoint=function(t){var e=t;return!t||t instanceof this.pointClass||(e=(new this.pointClass).init(this,this.options.data[t.i]),e.category=e.x,e.dist=t.dist,e.distX=t.distX,e.plotX=t.plotX,e.plotY=t.plotY),e},y(s.prototype,"destroy",function(t){var e=this,i=e.chart;i.hoverPoints&&(i.hoverPoints=u(i.hoverPoints,function(t){return t.series===e})),i.hoverPoint&&i.hoverPoint.series===e&&(i.hoverPoint=null),t.call(this)}),y(s.prototype,"searchPoint",function(t){return this.getPoint(t.apply(this,[].slice.call(arguments,1)))})});