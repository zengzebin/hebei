!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){function e(t,e){var o=a.getElementsByTagName("head")[0],n=a.createElement("script");n.type="text/javascript",n.src=t,n.onload=e,o.appendChild(n)}var o=t.win,n=o.navigator,a=o.document,r=o.URL||o.webkitURL||o,i=/Edge\/|Trident\/|MSIE /.test(n.userAgent),l=i?150:0;t.CanVGRenderer={},t.downloadURL=function(t,e){var r,i=a.createElement("a");if(n.msSaveOrOpenBlob)return void n.msSaveOrOpenBlob(t,e);if(void 0!==i.download)i.href=t,i.download=e,i.target="_blank",a.body.appendChild(i),i.click(),a.body.removeChild(i);else try{if(void 0===(r=o.open(t,"chart"))||null===r)throw"Failed to open window"}catch(e){o.location.href=t}},t.svgToDataUrl=function(t){var e=n.userAgent.indexOf("WebKit")>-1&&n.userAgent.indexOf("Chrome")<0;try{if(!e&&n.userAgent.toLowerCase().indexOf("firefox")<0)return r.createObjectURL(new o.Blob([t],{type:"image/svg+xml;charset-utf-16"}))}catch(t){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(t)},t.imageToDataUrl=function(t,e,n,r,i,c,g,s,d){var h,m=new o.Image,p=function(){setTimeout(function(){var o,l=a.createElement("canvas"),c=l.getContext&&l.getContext("2d");try{if(c){l.height=m.height*r,l.width=m.width*r,c.drawImage(m,0,0,l.width,l.height);try{o=l.toDataURL(e),i(o,e,n,r)}catch(o){h(t,e,n,r)}}else g(t,e,n,r)}finally{d&&d(t,e,n,r)}},l)},f=function(){s(t,e,n,r),d&&d(t,e,n,r)};h=function(){m=new o.Image,h=c,m.crossOrigin="Anonymous",m.onload=p,m.onerror=f,m.src=t},m.onload=p,m.onerror=f,m.src=t},t.downloadSVGLocal=function(i,l,c,g,s,d){var h,m,p,f=!0;if("image/svg+xml"===c)try{n.msSaveOrOpenBlob?(m=new MSBlobBuilder,m.append(i),h=m.getBlob("image/svg+xml")):h=t.svgToDataUrl(i),t.downloadURL(h,l),d&&d()}catch(t){s()}else h=t.svgToDataUrl(i),p=function(){try{r.revokeObjectURL(h)}catch(t){}},t.imageToDataUrl(h,c,{},g,function(e){try{t.downloadURL(e,l),d&&d()}catch(t){s()}},function(){var r=a.createElement("canvas"),h=r.getContext("2d"),m=i.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*g,u=i.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*g,v=function(){h.drawSvg(i,0,0,m,u);try{t.downloadURL(n.msSaveOrOpenBlob?r.msToBlob():r.toDataURL(c),l),d&&d()}catch(t){s()}finally{p()}};r.width=m,r.height=u,o.canvg?v():(f=!0,e(t.getOptions().global.canvasToolsURL,function(){v()}))},s,s,function(){f&&p()})},t.Chart.prototype.getSVGForLocalExport=function(e,o,n,a){var r,i,l,c,g,s=this,d=0,h=function(t,e,o){++d,o.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",t),d===r.length&&a(s.sanitizeSVG(i.innerHTML))};t.wrap(t.Chart.prototype,"getChartHTML",function(t){return i=this.container.cloneNode(!0),t.apply(this,Array.prototype.slice.call(arguments,1))}),s.getSVGForExport(e,o),r=i.getElementsByTagName("image");try{if(!r.length)return void a(s.sanitizeSVG(i.innerHTML));for(c=0,g=r.length;c<g;++c)l=r[c],t.imageToDataUrl(l.getAttributeNS("http://www.w3.org/1999/xlink","href"),"image/png",{imageElement:l},e.scale,h,n,n,n)}catch(t){n()}},t.Chart.prototype.exportChartLocal=function(e,o){var n=this,a=t.merge(n.options.exporting,e),r=a&&a.type||"image/png",l=function(){if(!1===a.fallbackToExportServer){if(!a.error)throw"Fallback to export server disabled";a.error()}else n.exportChart(a)},c=function(e){var o=(a.filename||"chart")+"."+("image/svg+xml"===r?"svg":r.split("/")[1]);t.downloadSVGLocal(e,o,r,a.scale,l)};if(i&&"image/svg+xml"!==r&&n.container.getElementsByTagName("image").length)return void l();n.getSVGForLocalExport(a,o,l,c)},t.getOptions().exporting.buttons.contextButton.menuItems=[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}}]});