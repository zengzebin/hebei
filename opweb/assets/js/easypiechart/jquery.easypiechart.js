!function(e,t){"object"==typeof exports?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(e.jQuery)}(this,function(e){var t=function(t,a){var n,i=document.createElement("canvas");t.appendChild(i),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(i);var r=i.getContext("2d");i.width=i.height=a.size;var o=1;window.devicePixelRatio>1&&(o=window.devicePixelRatio,i.style.width=i.style.height=[a.size,"px"].join(""),i.width=i.height=a.size*o,r.scale(o,o)),r.translate(a.size/2,a.size/2),e(t).addClass("easyPieChart"),e(t).css({width:a.size,height:a.size,lineHeight:a.size+"px"}),r.rotate((a.rotate/180-.5)*Math.PI);var s=(a.size-a.lineWidth)/2;a.scaleColor&&a.scaleLength&&(s-=a.scaleLength+2),Date.now=Date.now||function(){return+new Date};var d=function(e,t,a){a=Math.min(Math.max(-1,a||0),1);var n=a<=0;r.beginPath(),r.arc(0,0,s,0,2*Math.PI*a,n),r.strokeStyle=e,r.lineWidth=t,r.stroke()},h=function(){var e,t;r.lineWidth=1,r.fillStyle=a.scaleColor,r.save();for(var n=24;n>0;--n)n%6==0?(t=a.scaleLength,e=0):(t=.6*a.scaleLength,e=a.scaleLength-t),r.fillRect(-a.size/2+e,0,t,1),r.rotate(Math.PI/12);r.restore()},l=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),u=function(){a.scaleColor&&h(),a.trackColor&&d(a.trackColor,a.trackWidth||a.lineWidth,1)};this.getCanvas=function(){return i},this.getCtx=function(){return r},this.clear=function(){r.clearRect(a.size/-2,a.size/-2,a.size,a.size)},this.draw=function(e){a.scaleColor||a.trackColor?r.getImageData&&r.putImageData?n?r.putImageData(n,0,0):(u(),n=r.getImageData(0,0,a.size*o,a.size*o)):(this.clear(),u()):this.clear(),r.lineCap=a.lineCap;var t;t="function"==typeof a.barColor?a.barColor(e):a.barColor,d(t,a.lineWidth,e/100)}.bind(this),this.animate=function(e,t){var n=Date.now();a.onStart(e,t);var i=function(){var r=Math.min(Date.now()-n,a.animate.duration),o=a.easing(this,r,e,t-e,a.animate.duration);this.draw(o),a.onStep(e,t,o),r>=a.animate.duration?a.onStop(e,t):l(i)}.bind(this);l(i)}.bind(this)},a=function(e,a){var n={barColor:"#ef1e25",trackColor:"#e1e1e1",scaleColor:"#a1a1a1",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(e,t,a,n,i){return t/=i/2,t<1?n/2*t*t+a:-n/2*(--t*(t-2)-1)+a},onStart:function(e,t){},onStep:function(e,t,a){},onStop:function(e,t){}};if(void 0!==t)n.renderer=t;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");n.renderer=SVGRenderer}var i={},r=0,o=function(){this.el=e,this.options=i;for(var t in n)n.hasOwnProperty(t)&&(i[t]=a&&void 0!==a[t]?a[t]:n[t],"function"==typeof i[t]&&(i[t]=i[t].bind(this)));"string"==typeof i.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[i.easing])?i.easing=jQuery.easing[i.easing]:i.easing=n.easing,"number"==typeof i.animate&&(i.animate={duration:i.animate,enabled:!0}),"boolean"!=typeof i.animate||i.animate||(i.animate={duration:1e3,enabled:i.animate}),this.renderer=new i.renderer(e,i),this.renderer.draw(r),e.dataset&&e.dataset.percent?this.update(parseFloat(e.dataset.percent)):e.getAttribute&&e.getAttribute("data-percent")&&this.update(parseFloat(e.getAttribute("data-percent")))}.bind(this);this.update=function(e){return e=parseFloat(e),i.animate.enabled?this.renderer.animate(r,e):this.renderer.draw(e),r=e,this}.bind(this),this.disableAnimation=function(){return i.animate.enabled=!1,this},this.enableAnimation=function(){return i.animate.enabled=!0,this},o()};e.fn.easyPieChart=function(t){return this.each(function(){var n;e.data(this,"easyPieChart")||(n=e.extend({},t,e(this).data()),e.data(this,"easyPieChart",new a(this,n)))})}});