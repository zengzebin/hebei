function openNextPage(){var e=allNodeUrls.indexOf(currentNodeUrl)+1;if(!(e>=allNodeUrls.length)){var t=allNodeUrls[e];$('.sitemapPageLink[nodeUrl="'+t+'"]').click()}}function openPreviousPage(){var e=allNodeUrls.indexOf(currentNodeUrl)-1;if(!(e<0)){var t=allNodeUrls[e];$('.sitemapPageLink[nodeUrl="'+t+'"]').click()}}var currentNodeUrl="",allNodeUrls=[];!function(){function e(){$("#sitemapTreeContainer").height($("#sitemapHost").height()-$("#sitemapHeader").outerHeight())}function t(e){1!=e&&($("#adaptiveViewsContainer").hide(),$("#adaptiveButton").removeClass("sitemapToolbarButtonSelected")),3!=e&&($("#sitemapLinksContainer").hide(),$("#linksButton").removeClass("sitemapToolbarButtonSelected"))}function a(e){$(this).children(".sitemapMinus").removeClass("sitemapMinus").addClass("sitemapPlus").end().closest("li").children("ul").hide(C)}function i(e){$(this).children(".sitemapPlus").removeClass("sitemapPlus").addClass("sitemapMinus").end().closest("li").children("ul").show(C)}function s(e){$axure.page.navigate(this.getAttribute("nodeUrl"),!0)}function n(a){t(3),$("#sitemapLinksContainer").toggle(),e(),$("#sitemapLinksContainer").is(":visible")?$("#linksButton").addClass("sitemapToolbarButtonSelected"):$("#linksButton").removeClass("sitemapToolbarButtonSelected")}function o(e){$("#highlightInteractiveButton").is(".sitemapToolbarButtonSelected")?($("#highlightInteractiveButton").removeClass("sitemapToolbarButtonSelected"),$axure.messageCenter.postMessage("highlightInteractive",!1),deleteVarFromCurrentUrlHash(f)):($("#highlightInteractiveButton").addClass("sitemapToolbarButtonSelected"),$axure.messageCenter.postMessage("highlightInteractive",!0),setVarInCurrentUrlHash(f,1))}function d(a){t(1),$("#adaptiveViewsContainer").toggle(),e(),$("#adaptiveViewsContainer").is(":visible")?$("#adaptiveButton").addClass("sitemapToolbarButtonSelected"):$("#adaptiveButton").removeClass("sitemapToolbarButtonSelected")}function l(e){var t=$(this).attr("val");$(".checkedAdaptive").removeClass("checkedAdaptive"),$(this).find(".adaptiveCheckboxDiv").addClass("checkedAdaptive"),x=$axure.page.location.split("#")[0];var a=decodeURI(x),i=a.substr(a.lastIndexOf("/")?a.lastIndexOf("/")+1:0),s={src:i};s.view=t,$axure.messageCenter.postMessage("switchAdaptiveView",s),"auto"==t?deleteVarFromCurrentUrlHash(ADAPTIVE_VIEW_VAR_NAME):setVarInCurrentUrlHash(ADAPTIVE_VIEW_VAR_NAME,t)}function r(e){$("#searchDiv").toggle(),$("#searchDiv").is(":visible")?($("#searchButton").addClass("sitemapToolbarButtonSelected"),$("#searchBox").focus(),$("#sitemapTreeContainer").css("top","63px")):($("#searchButton").removeClass("sitemapToolbarButtonSelected"),$("#searchBox").val(""),$("#searchBox").keyup(),$("#sitemapTreeContainer").css("top","31px"))}function c(e){var t=$(this).val().toLowerCase();""==t?($(".sitemapPageName").removeClass("sitemapGreyedName"),$(".sitemapNode").show()):($(".sitemapNode").hide(),$(".sitemapPageName").addClass("sitemapGreyedName").each(function(){-1!=$(this).text().toLowerCase().indexOf(t)&&$(this).removeClass("sitemapGreyedName").parents(".sitemapNode:first").show().parents(".sitemapExpandableNode").show()}))}function v(){$("#sitemapLinkWithPlayer").val(x),$("#sitemapOptionsDiv").hide(),$("#minimizeBox").attr("disabled","disabled"),$("#collapseBox").attr("disabled","disabled"),$("#footnotesBox").attr("disabled","disabled"),$("#highlightBox").attr("disabled","disabled"),$("#viewSelect").attr("disabled","disabled"),$('input[value="withmap"]').parent().removeClass("sitemapRadioSelected"),e()}function p(){$("#sitemapLinkWithPlayer").val(b+N),$("#minimizeBox").removeAttr("disabled").change(),$("#collapseBox").removeAttr("disabled").change(),$("#footnotesBox").removeAttr("disabled").change(),$("#highlightBox").removeAttr("disabled").change(),$("#viewSelect").removeAttr("disabled").change(),$("#sitemapOptionsDiv").show(),$('input[value="withmap"]').parent().addClass("sitemapRadioSelected"),e()}function u(){var e="#"+$("#sitemapLinkWithPlayer").val().split("#")[1],t=null,a="",i=1;$(this).is("#minimizeBox")?a=SITEMAP_COLLAPSE_VAR_NAME:$(this).is("#collapseBox")?(a=PLUGIN_VAR_NAME,i=0):$(this).is("#footnotesBox")?(a=FOOTNOTES_VAR_NAME,i=0):$(this).is("#highlightBox")&&(a=f),null!=(t=$(this).is(":checked")?setHashStringVar(e,a,i):deleteHashStringVar(e,a))&&$("#sitemapLinkWithPlayer").val(b+t)}function g(){var e="#"+$("#sitemapLinkWithPlayer").val().split("#")[1],t=null,a=$(this).find("option:selected");if(0!=a.length){var i=a.attr("value");t="auto"==i?deleteHashStringVar(e,ADAPTIVE_VIEW_VAR_NAME):setHashStringVar(e,ADAPTIVE_VIEW_VAR_NAME,i),null!=t&&$("#sitemapLinkWithPlayer").val(b+t)}}function h(){var e="<div id='sitemapHeader'' class='sitemapHeader'>";e+="<div id='sitemapToolbar' class='sitemapToolbar'>",e+="<div class='pluginNameHeader'>PAGES</div>",e+="<div class='pageNameHeader'></div>",e+="<div class='pageButtonHeader'>",$axure.document.configuration.enabledViewIds.length>0&&(e+="<a id='adaptiveButton' title='Select Adaptive View' class='sitemapToolbarButton'></a>"),e+="<a id='linksButton' title='Get Links' class='sitemapToolbarButton'></a>",e+="<a id='highlightInteractiveButton' title='Highlight interactive elements' class='sitemapToolbarButton'></a>",e+="</div>",e+="</div>",$axure.document.adaptiveViews.length>0&&(e+="<div id='adaptiveViewsContainer'><div style='margin-bottom:10px;'>Adaptive Views</div></div>"),e+="<div id='sitemapLinksContainer' class='sitemapLinkContainer'>",e+="<div style='margin-bottom:10px;'>Generate sharable URLs</div>",e+="<input id='sitemapLinkWithPlayer' type='text' class='sitemapLinkField'/>",e+="<div class='sitemapOptionContainer'>",e+="<div><label><input type='radio' name='sitemapToggle' value='withoutmap'/>Without Sidebar</label></div>",e+="<div style='margin-top:10px;'><label><input type='radio' name='sitemapToggle' value='withmap'/>With Sidebar</label>",e+="<div id='sitemapOptionsDiv'>",e+="<div class='sitemapUrlOption'><label><input type='checkbox' id='minimizeBox' />Minimize sidebar</label></div>",e+="<div class='sitemapUrlOption'><label><input type='checkbox' id='collapseBox' />Pages closed</label></div>",1==$axure.document.configuration.showAnnotations&&(e+="<div class='sitemapUrlOption'><label><input type='checkbox' id='footnotesBox' />Hide footnotes</label></div>"),e+="<div class='sitemapUrlOption'><label><input type='checkbox' id='highlightBox' />Highlight interactive elements</label></div>",$axure.document.configuration.enabledViewIds.length>0&&(e+="<div id='viewSelectDiv' class='sitemapUrlOption'><label>View: <select id='viewSelect'></select></label></div>"),e+="</div></div></div></div>",e+="</div>",e+="<div id='sitemapTreeContainer'>",e+='<div id="searchDiv" style=""><input id="searchBox" style="" type="text"/></div>',e+="<ul class='sitemapTree' style='clear:both;'>";for(var t=$axure.document.sitemap.rootNodes,a=0;a<t.length;a++)e+=m(t[a],0);e+="</ul></div>",$("#sitemapHost").html(e),$axure.document.adaptiveViews.length<=0&&$("#sitemapHost .pageNameHeader").css("padding-right","55px")}function m(e,t){var a,i,s=e.children&&e.children.length>0;s?(a=9+17*t,i="<li class='sitemapNode sitemapExpandableNode'><div><div class='sitemapPageLinkContainer' style='margin-left:"+a+"px'><a class='sitemapPlusMinusLink'><span class='sitemapMinus'></span></a>"):(a=21+17*t,i="<li class='sitemapNode sitemapLeafNode'><div><div class='sitemapPageLinkContainer' style='margin-left:"+a+"px'>");var n="Folder"==e.type;if(n||(i+="<a class='sitemapPageLink' nodeUrl='"+e.url+"'>",allNodeUrls.push(e.url)),i+="<span class='sitemapPageIcon","Flow"==e.type&&(i+=" sitemapFlowIcon"),n&&(i+=" sitemapFolderIcon"),i+="'></span><span class='sitemapPageName'>",i+=$("<div/>").text(e.pageName).html(),i+="</span>",n||(i+="</a>"),i+="</div></div>",s){i+="<ul>";for(var o=0;o<e.children.length;o++){i+=m(e.children[o],t+1)}i+="</ul>"}return i+="</li>"}var C=0,f="hi",x="",b="",N="";$(window.document).ready(function(){$axure.player.createPluginHost({id:"sitemapHost",context:"interface",title:"PAGES",gid:1}),h(),$(".sitemapPlusMinusLink").toggle(a,i),$(".sitemapPageLink").click(s),$("#sitemapLinksContainer").hide(),$("#linksButton").click(n),$("#adaptiveButton").click(d),$("#adaptiveViewsContainer").hide(),$("#highlightInteractiveButton").click(o),$("#searchButton").click(r),$("#searchBox").keyup(c),$(".sitemapLinkField").click(function(){this.select()}),$('input[value="withoutmap"]').click(v),$('input[value="withmap"]').click(p),$("#minimizeBox, #collapseBox, #footnotesBox, #highlightBox").change(u),$("#viewSelect").change(g),$(document).on("ContainerHeightChange",function(){e()}),$axure.page.bind("load.sitemap",function(){x=$axure.page.location.split("#")[0];var e=decodeURI(x);currentNodeUrl=e.substr(e.lastIndexOf("/")?e.lastIndexOf("/")+1:0),b=$(location).attr("href").split("#")[0].split("?")[0],N="#p="+currentNodeUrl.substr(0,currentNodeUrl.lastIndexOf(".")),setVarInCurrentUrlHash("p",currentNodeUrl.substring(0,currentNodeUrl.lastIndexOf(".html"))),$(".sitemapPageLink").parent().parent().removeClass("sitemapHighlight"),$('.sitemapPageLink[nodeUrl="'+currentNodeUrl+'"]').parent().parent().addClass("sitemapHighlight");var t=$axure.page.pageName;$(".pageNameHeader").html(t),$("#sitemapLinksPageName").html($(".sitemapHighlight > .sitemapPageLinkContainer > .sitemapPageLink > .sitemapPageName").html()),$('input[value="withoutmap"]').click();var a=getHashStringVar(f);a.length>0&&1==a?($("#highlightInteractiveButton").addClass("sitemapToolbarButtonSelected"),$axure.messageCenter.postMessage("highlightInteractive",!0)):$("#highlightInteractiveButton").is(".sitemapToolbarButtonSelected")&&$axure.messageCenter.postMessage("highlightInteractive",!0);var i=getHashStringVar(ADAPTIVE_VIEW_VAR_NAME);if(i.length>0){var s=$('.adaptiveViewOption[val="'+i+'"]');s.length>0?s.click():$('.adaptiveViewOption[val="auto"]').click()}else if($(".checkedAdaptive").length>0){var n=$(".checkedAdaptive").parents(".adaptiveViewOption");"auto"!=n.attr("val")&&n.click()}return $axure.messageCenter.postMessage("finishInit"),!1});var t=$("#adaptiveViewsContainer"),m=$("#viewSelect");if(t.append('<div class="adaptiveViewOption" val="auto"><div class="adaptiveCheckboxDiv checkedAdaptive"></div>Auto</div>'),m.append('<option value="auto">Auto</option>'),void 0!==$axure.document.defaultAdaptiveView.name){var C=$axure.document.defaultAdaptiveView.name;t.append('<div class="adaptiveViewOption currentAdaptiveView" val="default"><div class="adaptiveCheckboxDiv"></div>'+C+"</div>"),m.append('<option value="default">'+C+"</option>")}for(var w=$axure.document.configuration.enabledViewIds,k=0;k<$axure.document.adaptiveViews.length;k++){var B=$axure.document.adaptiveViews[k];if(!(w.indexOf(B.id)<0)){var S=0==B.size.width?"any":B.size.width,A=0==B.size.height?"any":B.size.height,V="";">"==B.condition||">="==B.condition?V=" and above":"<"!=B.condition&&"<="!=B.condition||(V=" and below");var T=B.name+" ("+S+" x "+A+V+")";t.append('<div class="adaptiveViewOption" val="'+B.id+'"><div class="adaptiveCheckboxDiv"></div>'+T+"</div>"),m.append('<option value="'+B.id+'">'+T+"</option>")}}$(".adaptiveViewOption").click(l),$(".adaptiveViewOption").mouseup(function(e){e.stopPropagation()}),$("#searchBox").focusin(function(){$(this).is(".searchBoxHint")&&($(this).val(""),$(this).removeClass("searchBoxHint"))}).focusout(function(){""==$(this).val()&&($(this).addClass("searchBoxHint"),$(this).val("Search"))}),$("#searchBox").focusout()}),$axure.messageCenter.addMessageListener(function(e,t){"adaptiveViewChange"==e&&($(".adaptiveViewOption").removeClass("currentAdaptiveView"),t.viewId?$('div[val="'+t.viewId+'"]').addClass("currentAdaptiveView"):$('div[val="default"]').addClass("currentAdaptiveView"),t.forceSwitchTo&&($(".checkedAdaptive").removeClass("checkedAdaptive"),$('div[val="'+t.forceSwitchTo+'"]').find(".adaptiveCheckboxDiv").addClass("checkedAdaptive")))}),$(document).on("pluginShown",function(a,i){1==i&&(t(1),e())}),$(document).on("sidebarExpanded",function(a,i){t(1),e()})}(),function(){function e(){$("#pageNotesScrollContainer").height($("#pageNotesHost").height()-$("#pageNotesHeader").outerHeight())}function t(){$(".widgetNoteContainerSelected").removeClass("widgetNoteContainerSelected"),$axure.messageCenter.postMessage("toggleSelectWidgetNote","")}function a(e){$("#footnotesButton").is(".sitemapToolbarButtonSelected")?($("#footnotesButton").removeClass("sitemapToolbarButtonSelected"),$axure.messageCenter.postMessage("annotationToggle",!1),setVarInCurrentUrlHash(FOOTNOTES_VAR_NAME,0)):($("#footnotesButton").addClass("sitemapToolbarButtonSelected"),$axure.messageCenter.postMessage("annotationToggle",!0),deleteVarFromCurrentUrlHash(FOOTNOTES_VAR_NAME))}function i(e){openNextPage()}function s(e){openPreviousPage()}function n(){var t="<div id='pageNotesHeader'' class='sitemapHeader'>";t+="<div id='pageNotesToolbar' class='sitemapToolbar'>",t+="<div class='pluginNameHeader'>NOTES</div>",t+="<div class='pageNameHeader'></div>",t+="<div class='pageButtonHeader'>",t+="<a id='notesPreviousButton' title='Previous Page' class='sitemapToolbarButton prevPageButton'></a>",t+="<a id='notesNextButton' title='Next Page' class='sitemapToolbarButton nextPageButton'></a>",1==$axure.document.configuration.showAnnotations&&(t+="<a id='footnotesButton' title='Toggle Footnotes' class='sitemapToolbarButton'></a>"),t+="</div>",t+="</div>",t+="</div>",t+="<div id='pageNotesScrollContainer'>",t+="<div id='pageNotesContainer'>",t+="<div id='pageNotesEmptyState' class='emptyStateContainer'><div class='emptyStateTitle'>No notes for this page.</div><div class='emptyStateContent'>Notes added in Axure RP will appear here.</div><div class='dottedDivider'></div></div>",t+="<span id='pageNotesContent'></span>",t+="</div></div>",$("#pageNotesHost").html(t),e(),$axure.document.configuration.showAnnotations||$("#pageNotesHost .pageNameHeader").css("padding-right","55px")}($axure.document.configuration.showPageNotes||$axure.document.configuration.showAnnotationsSidebar)&&($(window.document).ready(function(){function t(e){var t=/(\b(((https?|ftp|file):\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;return e.replace(t,function(e,t,a){return'<a href="'+("www."==a?"http://"+e:e)+'" target="_blank" class="noteLink">'+e+"</a>"})}$axure.player.createPluginHost({id:"pageNotesHost",context:"interface",title:"NOTES",gid:2}),n(),$(document).on("ContainerHeightChange",function(){e()}),$("#footnotesButton").click(a).addClass("sitemapToolbarButtonSelected"),$("#notesNextButton").click(i),$("#notesPreviousButton").click(s),$axure.page.bind("load.page_notes",function(){var e=!1;if($("#pageNotesContent").html(""),$axure.document.configuration.showPageNotes){var a=$axure.page.notes;if(a){var i=$axure.document.configuration.showPageNoteNames;for(var s in a){var n="<div class='pageNoteContainer'>";i&&(n+="<div class='pageNoteName'>"+s+"</div>"),n+="<div class='pageNote'>"+t(a[s])+"</div>",n+="</div>",n+="<div class='dottedDivider'></div>",$("#pageNotesContent").append(n),e=!0}}}if($axure.document.configuration.showAnnotationsSidebar){var o=$axure.page.widgetNotes;if(o){for(var d=0;d<o.length;d++){var l=o[d],r="<div class='widgetNoteContainer' data-id='"+l.id+"'>";r+="<div class='widgetNoteFootnote'></div>",r+="<div class='widgetNoteLabel'>"+l.label+"</div>";for(var c in l)"label"!=c&&"id"!=c&&(r+="<div class='pageNoteName'>"+c+"</div>",r+="<div class='pageNote'>"+t(l[c])+"</div>",r+="<div class='nondottedDivider'></div>");r+="</div>",r+="<div class='nondottedDivider'></div>",$("#pageNotesContent").append(r),e=!0}$(".widgetNoteContainer").children(":last-child").remove(),$(".widgetNoteFootnote").append("<div class='annnoteline'></div><div class='annnoteline'></div><div class='annnoteline'></div>"),$(".widgetNoteContainer").click(function(){var e=$(this).hasClass("widgetNoteContainerSelected");$(".widgetNoteContainerSelected").removeClass("widgetNoteContainerSelected"),e||$(this).addClass("widgetNoteContainerSelected"),$axure.messageCenter.postMessage("toggleSelectWidgetNote",this.getAttribute("data-id"))})}}if(e?$("#pageNotesEmptyState").hide():$("#pageNotesEmptyState").show(),1==$axure.document.configuration.showAnnotations){var v=getHashStringVar(FOOTNOTES_VAR_NAME);v.length>0&&0==v?($("#footnotesButton").removeClass("sitemapToolbarButtonSelected"),$axure.messageCenter.postMessage("annotationToggle",!1)):$("#footnotesButton").is(".sitemapToolbarButtonSelected")||$axure.messageCenter.postMessage("annotationToggle",!1)}return!1})}),$(document).on("sidebarCollapse",function(e,a){t()}),$(document).on("pluginShown",function(e,a){2!=a&&t()}))}(),function(){function e(){$("#debugScrollContainer").height($("#debugHost").height()-$("#debugHeader").outerHeight())}function t(){var t="<div id='debugHeader'' class='sitemapHeader'>";t+="<div id='debugToolbar' class='sitemapToolbar'>",t+="<div class='pluginNameHeader'>CONSOLE</div>",t+="<div class='pageNameHeader'></div>",t+="</div>",t+="</div>",t+="<div id='debugScrollContainer'>",t+="<div id='debugContainer'>",t+="<div id='variablesContainer'>",t+="<div id='variablesClearLinkContainer' class='debugLinksContainer'><a id='variablesClearLink' title='Reset Variables'>Reset Variables</a></div>",t+="<div id='variablesDiv'></div></div>",t+="<div class='dottedDivider'></div>",t+="<div id='traceContainer'>",t+="<div id='traceClearLinkContainer' class='debugLinksContainer'><a id='traceClearLink' title='Clear Trace'>Clear Trace</a></div>",t+="<div id='traceEmptyState' class='emptyStateContainer'><div class='emptyStateTitle'>No interactions in the trace.</div><div class='emptyStateContent'>Triggered interactions will appear here.</div><div class='dottedDivider'></div></div>",t+="<div id='traceDiv'></div></div>",t+="</div></div>",$("#debugHost").html(t),e(),$("#traceClearLinkContainer").hide(),$("#traceEmptyState").show()}$axure.document.configuration.showConsole&&$(document).ready(function(){function a(e){$axure.messageCenter.postMessage("resetGlobalVariables","")}function i(e){$("#traceDiv").html(""),$("#traceClearLinkContainer").hide(),$("#traceEmptyState").show()}$axure.player.createPluginHost({id:"debugHost",context:"interface",title:"CONSOLE",gid:3}),t(),$("#variablesClearLink").click(a),$("#traceClearLink").click(i),$(document).on("ContainerHeightChange",function(){e()});var s=[],n=[];$axure.messageCenter.addMessageListener(function(e,t){if("axCompositeEventMessage"==e)for(var a=0;a<t.length;a++)o(t[a].message,t[a].data);else o(e,t)});var o=function(e,t){if("globalVariableValues"==e){$("#variablesDiv").empty();for(var a in t){var i=""==t[a]?"(blank)":t[a];$("#variablesDiv").append('<div class="variableDiv"><span class="variableName">'+a+"</span><br/>"+i+"</div>")}}else if("axEvent"==e){var o="<div class='axEventBlock'>";o+="<div class='axTime'>"+(new Date).toLocaleTimeString()+"</div>",o+="<div class='axLabel'>"+t.label+" ("+t.type+")</div>",o+="<div class='axEvent'>"+t.event.description+"</div>",s.push(o)}else if("axEventComplete"==e){if(s[s.length-1]+="</div>",n.push(s.pop()),0==s.length){$("#traceClearLinkContainer").show(),$("#traceEmptyState").hide(),$(".lastAxEvent").removeClass("lastAxEvent");for(var d=n.length-1;d>=0;d--)$("#traceDiv").children().length>99&&$("#traceDiv").children().last().remove(),$("#traceDiv").prepend(n[d]),d==n.length-1&&$("#traceDiv").children().first().addClass("lastAxEvent");n=[]}}else"axCase"==e?s[s.length-1]+="<div class='axCase'>"+t.description+"</div>":"axAction"==e&&(s[s.length-1]+="<div class='axAction'>"+t.description+"</div>")};$axure.page.bind("load.debug",function(){return $axure.messageCenter.postMessage("getGlobalVariables",""),!1})})}();